;コンフィグから行う強制データ操作

;-------------------------------------------------
;データ操作
;-------------------------------------------------
@CONFIG_DATA_EDIT
CALL SINGLE_DRAWLINE
PRINTL 行う操作を選択して下さい
SETCOLOR 0xD0A080
PRINTL   ◎操作によっては重篤な不具合が発生する場合があります
PRINTL   ◎濫用するとゲームの楽しみを損なう恐れがあります
PRINTL   以上を理解した上でご利用下さい
RESETCOLOR
CALL SINGLE_DRAWLINE

PRINTBUTTON " 0[キャラデータの個別書き換え]", 0
PRINTL 
PRINTBUTTON " 1[キャラデータの一括書き換え]", 1
PRINTL 
PRINTBUTTON " 2[所持金の追加]", 2
PRINTL 
PRINTBUTTON " 3[勢力図の変更]", 3
PRINTL 
PRINTBUTTON " 4[全アイテム追加]", 4
PRINTL
PRINTBUTTON " 5[時期設定]", 5
PRINTL
IF IS_COUNTRY(CFLAG:MASTER:所属)
	PRINTBUTTON " 6[各国との関係設定]", 6
	PRINTL
ENDIF
PRINTBUTTON " 7[引継ぎデータ作成]", 7
PRINTL
PRINTBUTTON " 8[部隊ダンプ]", 8
PRINTL
PRINTBUTTON " 9[乱数調整]", 9
PRINTL
PRINTBUTTON "10[ランダムキャラ追加]", 10
PRINTL
PRINTBUTTON "11[兵を増やす]", 11
PRINTL
PRINTBUTTON "12[複数キャラクターをランダムで死亡させる]", 12
PRINTL
PRINTBUTTON "13[ランダムキャラ複数追加]", 13
PRINTL
PRINTBUTTON "14[カスタムキャラのクローンを複数生成]", 14
PRINTL
CALL SINGLE_DRAWLINE
PRINTBUTTON " 99[戻る]", 99
PRINTL 

REDRAW 0

$INPUT_LOOP
INPUT

IF RESULT == 99
	REDRAW 1
	RETURN
ELSEIF RESULT == 0
	REDRAW 1
	CALL CONFIG_DATA_EDIT_CHARA
ELSEIF RESULT == 1
	REDRAW 1
	CALL CONFIG_DATA_EDIT_CHARA_ALL
ELSEIF RESULT == 2
	REDRAW 1
	PRINTFORML 追加する所持金の額を入力して下さい(現在:{MONEY})
	INPUT
	MONEY = LIMIT(MONEY + RESULT, 0, 9999999999999)
ELSEIF RESULT == 3
	CALL CONFIG_DATA_EDIT_SLG
ELSEIF RESULT == 4
	CALL ASK_YN("番号指定", "全追加")
	IF RESULT == 0
		PRINTFORML 番号指定
		INPUT
		LOCAL:1 = RESULT
		PRINTFORML 個数指定
		INPUT
		LOCAL:2 = RESULT
		ITEM:(LOCAL:1) = LOCAL:2
	ELSE
		REDRAW 1
		PRINTFORML 購入可能な全アイテムを販売開始し、かつ追加しておきました
		FOR LOCAL, 0, 499
			IF ITEMNAME:LOCAL != ""
				SELECTCASE LOCAL
					CASE 140
						ITEMSALES:LOCAL = 1
						ITEMTERM:LOCAL = 0
						ITEM:LOCAL = 1
					CASE 141, 142
						ITEMSALES:LOCAL = 1
						ITEMTERM:LOCAL = 0
					CASE 100 TO 149
						ITEMSALES:LOCAL = 0
						ITEM:LOCAL = 1
						ITEMTERM:LOCAL = 0
					CASE 150 TO 199
						ITEMSALES:LOCAL = 1
						ITEM:LOCAL = 99
						ITEMTERM:LOCAL = 0
					CASE 200 TO 249
						ITEMSALES:LOCAL = 0
						ITEM:LOCAL = 1
						ITEMTERM:LOCAL = 0
					CASE 250 TO 279
						ITEMSALES:LOCAL = 1
						ITEM:LOCAL = 99
						ITEMTERM:LOCAL = 0
					CASE IS >= 280
						ITEMSALES:LOCAL = 1
						ITEMTERM:LOCAL = 0
				ENDSELECT
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 5
	REDRAW 1
		PRINTFORML 第何期にしますか？(現在:{DAY})
		PRINTFORML 0以下入力でキャンセルできます
		INPUT
		IF RESULT <= 0
			PRINTFORML キャンセルしました
		ELSE
			PRINTFORML {RESULT}期にしました
			DAY = RESULT
		ENDIF
ELSEIF RESULT == 6 && IS_COUNTRY(CFLAG:MASTER:所属)
	VARSET LOCAL
	VARSET LOCALS
	$DEPLOMACY_LOOP
	CALL SINGLE_DRAWLINE
	PRINTL 関係設定を行う勢力を選択して下さい
	CALL SINGLE_DRAWLINE
	PRINTL                     【関係】【友好度／敵対度】  【印象】  【囚えている捕虜】        【囚われている捕虜】

	;他勢力一覧の表示
	FOR LOCAL:0, 1, MAX_COUNTRY
		;野盗はそもそも表示させない
		IF IS_COUNTRY(LOCAL:0) && LOCAL:0 != CFLAG:MASTER:所属
			LOCALS:0 = {LOCAL:0, 2}[%ANAME(GET_COUNTRY_BOSS(LOCAL:0))%]
			;外交禁止フラグが立っているならグレー表示
			IF COUNTRY_IS_CLOSED:(LOCAL:0)
				SETCOLOR カラー_選択不可
				PRINTPLAINFORM %LOCALS:0, 22, LEFT%
				RESETCOLOR
			ELSE
				PRINTBUTTON @"%LOCALS:0, 22, LEFT%", LOCAL:0
			ENDIF

			CALL TMP_SETCOLOR_COUNTRY_RELATION(CFLAG:MASTER:所属, LOCAL:0)
			PRINTFORM %TMP_TOSTR_COUNTRY_RELATION(CFLAG:MASTER:所属, LOCAL:0, 0), 9, LEFT%
			RESETCOLOR
			LOCAL:4 = GET_COUNTRY_BOSS(CFLAG:MASTER:所属)
			LOCAL:5 = GET_COUNTRY_BOSS(LOCAL:0)
	;		PRINTFORM 
			PRINTFORM {REL_LIKE:(LOCAL:5):(LOCAL:4), 5, RIGHT}
			PRINT 　
			PRINTFORM {REL_HATE:(LOCAL:5):(LOCAL:4), 5, RIGHT}
			PRINT        

			CALL TMP_PRINT_COUNTRY_RELATION2(LOCAL:5, LOCAL:4)
			PRINT      

			;囚えている捕虜の表示
			LOCALS:1 = 
			FOR LOCAL:1, 0, CHARANUM
				IF CFLAG:(LOCAL:1):所属 == LOCAL:0 && CFLAG:(LOCAL:1):捕虜先 == CFLAG:MASTER:所属
					IF LOCALS:1 == ""
						LOCALS:1 = %ANAME(LOCAL:1)%
					ELSE
						IF STRLENS(@"%LOCALS:1%、%ANAME(LOCAL:1)%") >= 24
							LOCALS:1 = %LOCALS:1%、他
							BREAK
						ELSE
							LOCALS:1 = %LOCALS:1%、%ANAME(LOCAL:1)%
						ENDIF
					ENDIF
				ENDIF
			NEXT
			SETCOLOR 0xFF8020
			PRINTFORM %LOCALS:1, 26, LEFT%
			RESETCOLOR

			;囚えられている捕虜の表示
			LOCALS:1 = 
			FOR LOCAL:1, 0, CHARANUM
				IF CFLAG:(LOCAL:1):所属 == CFLAG:MASTER:所属 && CFLAG:(LOCAL:1):捕虜先 == LOCAL:0
					IF LOCALS:1 == ""
						LOCALS:1 = %ANAME(LOCAL:1)%
					ELSE
						IF STRLENS(@"%LOCALS:1%、%ANAME(LOCAL:1)%") >= 24
							LOCALS:1 = %LOCALS:1%、他
							BREAK
						ELSE
							LOCALS:1 = %LOCALS:1%、%ANAME(LOCAL:1)%
						ENDIF
					ENDIF
				ENDIF
			NEXT
			SETCOLOR 0x40FFFF
			PRINTFORM %LOCALS:1, 26, LEFT%
			RESETCOLOR
			PRINTL 
		ENDIF
	NEXT
	CALL SINGLE_DRAWLINE
	PRINTBUTTON "98[一括]", 98
	PRINTL
	PRINTBUTTON "99[戻る]", 99
	PRINTL 
	REDRAW 0

	$INPUT_LOOP2
	INPUT

	IF RESULT >= 1 && RESULT < MAX_COUNTRY && RESULT != CFLAG:MASTER:所属 && IS_COUNTRY(RESULT) && !COUNTRY_IS_CLOSED:RESULT
		LOCAL:1 = RESULT
		REDRAW 1
		PRINTFORML 友好度をいくらにしますか？(負の数で現状維持、最大値1500)
		INPUT
		IF RESULT < 0
		ELSE
			REL_LIKE:(GET_COUNTRY_BOSS(LOCAL:1)):(GET_COUNTRY_BOSS(CFLAG:MASTER:所属)) = MIN(RESULT, 1500)
		ENDIF
		PRINTFORML 敵対度をいくらにしますか？(負の数で現状維持、最大値1500)
		INPUT
		IF RESULT < 0
		ELSE
			REL_HATE:(GET_COUNTRY_BOSS(LOCAL:1)):(GET_COUNTRY_BOSS(CFLAG:MASTER:所属)) = MIN(RESULT, 1500)
		ENDIF
		PRINTFORMW 設定しました
		GOTO DEPLOMACY_LOOP
	ELSEIF RESULT == 98
		REDRAW 1
		PRINTFORML 友好度をいくらにしますか？(負の数で現状維持、最大値1500)
		INPUT
		IF RESULT < 0
		ELSE
			FOR LOCAL, 0, MAX_COUNTRY
				IF IS_COUNTRY(LOCAL) && !COUNTRY_IS_CLOSED:LOCAL && LOCAL != CFLAG:MASTER:所属
					REL_LIKE:(GET_COUNTRY_BOSS(LOCAL)):(GET_COUNTRY_BOSS(CFLAG:MASTER:所属)) = MIN(RESULT, 1500)
				ENDIF
			NEXT
		ENDIF
		PRINTFORML 敵対度をいくらにしますか？(負の数で現状維持、最大値1500)
		INPUT
		IF RESULT < 0
		ELSE
			FOR LOCAL, 0, MAX_COUNTRY
				IF IS_COUNTRY(LOCAL) && !COUNTRY_IS_CLOSED:LOCAL && LOCAL != CFLAG:MASTER:所属
					REL_HATE:(GET_COUNTRY_BOSS(LOCAL)):(GET_COUNTRY_BOSS(CFLAG:MASTER:所属)) = MIN(RESULT, 1500)
				ENDIF
			NEXT
		ENDIF
		PRINTFORMW 設定しました
		GOTO DEPLOMACY_LOOP
	ELSEIF RESULT != 99
		CLEARLINE 1
		GOTO INPUT_LOOP2
	ENDIF
	REDRAW 1
	RESTART
ELSEIF RESULT == 7
	PRINTFORMW 引継ぎデータを作成します
	FLAG:クリア直後フラグ = 1
	CALL SAVE_GAME
	FLAG:クリア直後フラグ = 0
ELSEIF RESULT == 8
	FOR LOCAL, 0, MAX_COUNTRY
		SIF !IS_COUNTRY(LOCAL)
			CONTINUE
		LOCAL:6 = GET_COUNTRY_BOSS(LOCAL:0)
		FOR LOCAL:1, 0, MAX_UNIT
			SIF UNIT_SOLDIER:(LOCAL:0):(LOCAL:1) <= 0
				CONTINUE
			CALL PRINT_UNIT_INFO(LOCAL:0, LOCAL:1)
			PRINTFORM 街:%GET_CITYNAME(UNIT_POSITION:(LOCAL:0):(LOCAL:1))%
			PRINTL
		NEXT
	NEXT
	RESETCOLOR
	WAIT
ELSEIF RESULT == 9
	PRINTFORML 乱数発生回数を入力(0以下を入力でキャンセル)
	INPUT
	IF RESULT > 0
		LOCAL:1 = RESULT
		FOR LOCAL, 0, LOCAL:1
			LOCAL:2 = RAND:2
		NEXT
	ENDIF
ELSEIF RESULT == 10
	CALL CONFIG_DATA_EDIT_RECRUIT_RANDOM_CHARA
ELSEIF RESULT == 11
	FOR LOCAL:0, 1, MAX_COUNTRY
		SIF IS_COUNTRY(LOCAL:0)
			PRINTFORML [{LOCAL:0}] - %ANAME(GET_COUNTRY_BOSS(LOCAL:0))%
	NEXT
	PRINTFORML [99] 戻る
	$INPUT_LOOP_SOLDIER
	INPUT
	IF RESULT == 99
	ELSEIF IS_COUNTRY(RESULT)
		LOCAL = RESULT
		PRINTFORML 増やす数を入力
		INPUT
		COUNTRY_SOLDIER:(LOCAL:0) += RESULT
	ELSE
		GOTO INPUT_LOOP_SOLDIER
	ENDIF
ELSEIF RESULT == 12
	CALL CONFIG_DATA_EDIT_RANDOM_DEAD
ELSEIF RESULT == 13
	CALL CONFIG_DATA_EDIT_ADD_RANDOM_CHARA_MULTI
ELSEIF RESULT == 14
	CALL CONFIG_DATA_EDIT_CUSTOM_CHARA_MULTI
ELSE
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF
RESTART

;-------------------------------------------------
;キャラデータの書き換え
;-------------------------------------------------
@CONFIG_DATA_EDIT_CHARA_ALL
#DIM FIRST_LINE
FIRST_LINE = LINECOUNT
CALL SINGLE_DRAWLINE
PRINTFORML キャラデータの変更(一括)    ※主人公は変更の適用外です
CALL SINGLE_DRAWLINE

LOCALS:0 = 全員に陥落素質を付ける
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 100[  恋慕]", 100
PRINTBUTTON " 101[  親愛]", 101
PRINTBUTTON " 102[  恋人]", 102
PRINTL 
PRINTFORM %TOSTR_SPACE(28)%
PRINTBUTTON " 103[  服従]", 103
PRINTBUTTON " 104[  隷属]", 104
PRINTBUTTON " 105[  烙印]", 105
PRINTBUTTON " 106[  合意]", 106
PRINTL 

LOCALS:0 = 全員の性別を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 110[  男性]", 110
PRINTBUTTON " 111[  女性]", 111
PRINTBUTTON " 112[  女双]", 112
PRINTL 
PRINTFORM %TOSTR_SPACE(28)%
PRINTBUTTON " 113[  男双]", 113
PRINTBUTTON " 114[男の娘]", 114
PRINTBUTTON " 115[男の娘双]", 115
PRINTL 

LOCALS:0 = 全員の性経験を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 120[  処女]", 120
PRINTBUTTON " 121[非処女]", 121
PRINTBUTTON " 122[  童貞]", 122
PRINTBUTTON " 123[非童貞]", 123
PRINTBUTTON " 124[キス未経験]", 124
PRINTBUTTON " 125[キス経験済]", 125
PRINTBUTTON " 126[アナル処女]", 126
PRINTBUTTON " 127[アナル非処女]", 127
PRINTL 

LOCALS:0 = 全員を捕虜にする
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 130[他国の士官のみ]", 130
PRINTBUTTON " 131[全ての士官]", 131
PRINTL 
PRINTL 

LOCALS:0 = 全員を士官にする
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 150[全ての士官]", 150
PRINTL 
PRINTL 

LOCALS:0 = 全員の好感度を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 200[  固定]", 200
PRINTBUTTON " 201[  以上]", 201
PRINTBUTTON " 202[  以下]", 202
PRINTL 

LOCALS:0 = 全員の従属度を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 210[  固定]", 210
PRINTBUTTON " 211[  以上]", 211
PRINTBUTTON " 212[  以下]", 212
PRINTL 

LOCALS:0 = 全員の依存度を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 220[  固定]", 220
PRINTBUTTON " 221[  以上]", 221
PRINTBUTTON " 222[  以下]", 222
PRINTL 
PRINTL 

LOCALS:0 = 全員に素質を追加
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 300[名称指定]", 300
PRINTBUTTON " 301[番号指定]", 301
PRINTL 

LOCALS:0 = 全員の素質を削除
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 310[名称指定]", 310
PRINTBUTTON " 311[番号指定]", 311
PRINTL 

LOCALS:0 = 全員の能力値を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINT  名称指定→
PRINTBUTTON " 320[  固定]", 320
PRINTBUTTON " 321[  以上]", 321
PRINTBUTTON " 322[  以下]", 322
PRINTL 
PRINTFORM %TOSTR_SPACE(29)%番号指定→
PRINTBUTTON " 330[  固定]", 330
PRINTBUTTON " 331[  以上]", 331
PRINTBUTTON " 332[  以下]", 332
PRINTL 
PRINTL 
LOCALS:0 = 全員の体力を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINT  名称指定→
PRINTBUTTON " 340[  固定]", 340
PRINTBUTTON " 341[  以上]", 341
PRINTBUTTON " 342[  以下]", 342
PRINTL 
LOCALS:0 = 全員の気力を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINT  名称指定→
PRINTBUTTON " 350[  固定]", 350
PRINTBUTTON " 351[  以上]", 351
PRINTBUTTON " 352[  以下]", 352
PRINTL 
LOCALS:0 = 全員の精神力を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINT  名称指定→
PRINTBUTTON " 360[  固定]", 360
PRINTBUTTON " 361[  以上]", 361
PRINTBUTTON " 362[  以下]", 362
PRINTL 

LOCALS:0 = 全員の対面状態を変更
PRINTFORM    %LOCALS:0, 24, RIGHT% 
PRINTBUTTON " 400[初対面]", 400
PRINTBUTTON " 401[対面済み]", 401
PRINTL 

CALL SINGLE_DRAWLINE
PRINTBUTTON " 999[戻る]", 999
PRINTL 

REDRAW 0

$INPUT_LOOP
INPUT

IF RESULT == 999
	REDRAW 1
	RETURN
ELSEIF RESULT == 100
	PRINTFORML 主人公を除く全てのキャラに[恋慕]を付け、好感度を1500、依存度を300にします
	PRINTFORML 現在の好感度・依存度がこれ以上の場合は、その値が維持されます
	PRINTFORML また、全てのキャラについて、初対面状態が解除されます
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):服従 = 0
				TALENT:(LOCAL:0):隷属 = 0
				TALENT:(LOCAL:0):親友 = 0
				TALENT:(LOCAL:0):恋慕 = 1
				CFLAG:(LOCAL:0):2 = MAX(CFLAG:(LOCAL:0):2, 1500)
				CFLAG:(LOCAL:0):3 = MAX(CFLAG:(LOCAL:0):3, 300)
				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 101
	PRINTFORML 主人公を除く全てのキャラに[親愛]を付け、好感度を10000、依存度を3000にします
	PRINTFORML 現在の好感度・依存度がこれ以上の場合は、その値が維持されます
	PRINTFORML また、全てのキャラについて、初対面状態が解除されます
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):服従 = 0
				TALENT:(LOCAL:0):隷属 = 0
				TALENT:(LOCAL:0):親友 = 0
				TALENT:(LOCAL:0):恋慕 = 1
				TALENT:(LOCAL:0):親愛 = 1
				CFLAG:(LOCAL:0):2 = MAX(CFLAG:(LOCAL:0):2, 10000)
				CFLAG:(LOCAL:0):3 = MAX(CFLAG:(LOCAL:0):3, 3000)
				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 102
	PRINTFORML 主人公を除く全てのキャラに[恋人]を付けます
	PRINTFORML また、全てのキャラについて、初対面状態が解除されます
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):烙印 = 0
				TALENT:(LOCAL:0):恋人 = 1
				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 103
	PRINTFORML 主人公を除く全てのキャラに[服従]を付け、従属度を1500、依存度を300にします
	PRINTFORML 現在の従属度・依存度がこれ以上の場合は、その値が維持されます
	PRINTFORML また、全てのキャラについて、初対面状態が解除されます
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):恋慕 = 0
				TALENT:(LOCAL:0):親愛 = 0
				TALENT:(LOCAL:0):親友 = 0
				TALENT:(LOCAL:0):服従 = 1
				CFLAG:(LOCAL:0):4 = MAX(CFLAG:(LOCAL:0):4, 1500)
				CFLAG:(LOCAL:0):3 = MAX(CFLAG:(LOCAL:0):3, 300)

				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 104
	PRINTFORML 主人公を除く全てのキャラに[隷属]を付け、従属度を10000、依存度を3000にします
	PRINTFORML 現在の従属度・依存度がこれ以上の場合は、その値が維持されます
	PRINTFORML また、全てのキャラについて、初対面状態が解除されます
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):恋慕 = 0
				TALENT:(LOCAL:0):親愛 = 0
				TALENT:(LOCAL:0):親友 = 0
				TALENT:(LOCAL:0):服従 = 1
				TALENT:(LOCAL:0):隷属 = 1
				CFLAG:(LOCAL:0):4 = MAX(CFLAG:(LOCAL:0):4, 10000)
				CFLAG:(LOCAL:0):3 = MAX(CFLAG:(LOCAL:0):3, 3000)
				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 105
	PRINTFORML 主人公を除く全てのキャラに[烙印]を付けます
	PRINTFORML また、全てのキャラについて、初対面状態が解除されます
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):恋人 = 0
				TALENT:(LOCAL:0):烙印 = 1
				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 106
	PRINTFORML 主人公を除く全てのキャラに[合意]を付けます
	PRINTFORML また、全てのキャラについて、初対面状態が解除されます
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):合意 = 1
				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 110
	PRINTFORML 主人公を除く全てのキャラを男性にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):性別 = 0
				CALL CLEAR_PIERCE_HOLE_SEX_CHANGE(LOCAL)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 111
	PRINTFORML 主人公と動物を除く全てのキャラを女性にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER && !IS_ANIMAL(LOCAL:0)
				TALENT:(LOCAL:0):性別 = 1
				CALL CLEAR_PIERCE_HOLE_SEX_CHANGE(LOCAL)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 112
	PRINTFORML 主人公を除く全てのキャラを女性(ふたなり)にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER && !IS_ANIMAL(LOCAL:0)
				TALENT:(LOCAL:0):性別 = 2
				CALL CLEAR_PIERCE_HOLE_SEX_CHANGE(LOCAL)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 113
	PRINTFORML 主人公を除く全てのキャラを男性(ふたなり)にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER && !IS_ANIMAL(LOCAL:0)
				TALENT:(LOCAL:0):性別 = 3
				CALL CLEAR_PIERCE_HOLE_SEX_CHANGE(LOCAL)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 114
	PRINTFORML 主人公を除く全てのキャラを男の娘にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER && !IS_ANIMAL(LOCAL:0)
				TALENT:(LOCAL:0):性別 = 4
				CALL CLEAR_PIERCE_HOLE_SEX_CHANGE(LOCAL)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 115
	PRINTFORML 主人公を除く全てのキャラを男の娘(ふたなり)にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER && !IS_ANIMAL(LOCAL:0)
				TALENT:(LOCAL:0):性別 = 5
				CALL CLEAR_PIERCE_HOLE_SEX_CHANGE(LOCAL)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 120
	PRINTFORML 主人公を除く全てのキャラを処女にします(感度や経験は変更されません)
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CALL VIRGINIZE(LOCAL:0, 初体験_処女)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 121
	PRINTFORML 主人公を除く全てのキャラを非処女にします
	CALL ASK_MULTI("実行", "キャンセル", "対象名を入力")
	IF RESULT == 2
		PRINTFORML 誰が奪ったかを入力してください
		INPUTS
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):処女 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_処女 = %RESULTS%
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_処女 = %RESULTS%
			ENDIF
		NEXT
	ELSEIF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):処女 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_処女 = 不明
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_処女 = 不明
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 122
	PRINTFORML 主人公を除く全てのキャラを童貞にします(感度や経験は変更されません)
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CALL VIRGINIZE(LOCAL:0, 初体験_童貞)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 123
	PRINTFORML 主人公を除く全てのキャラを非童貞にします
	CALL ASK_MULTI("実行", "キャンセル", "対象名を入力")
	IF RESULT == 2
		PRINTFORML 誰が奪ったかを入力してください
		INPUTS
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):童貞 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_童貞 = %RESULTS%
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_童貞 = %RESULTS%
			ENDIF
		NEXT
	ELSEIF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):童貞 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_童貞 = 不明
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_童貞 = 不明
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 124
	PRINTFORML 主人公を除く全てのキャラのキスの経験を消去します
	CALL ASK_MULTI("実行",　"キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CALL VIRGINIZE(LOCAL:0, 初体験_キス)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 125
	PRINTFORML 主人公を除く全てのキャラをキス経験済みにします
	CALL ASK_MULTI("実行", "キャンセル", "対象名を入力")
	IF RESULT == 2
		PRINTFORML 誰が奪ったかを入力してください
		INPUTS
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):キス未経験 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_キス = %RESULTS%
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_キス = %RESULTS%
			ENDIF
		NEXT
	ELSEIF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):キス未経験 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_キス = 不明
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_キス = 不明
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 126
	PRINTFORML 主人公を除く全てのキャラの尻穴の経験を消去します
	CALL ASK_MULTI("実行",　"キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CALL VIRGINIZE(LOCAL:0, 初体験_アナル処女)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 127
	PRINTFORML 主人公を除く全てのキャラのアナルを経験済みにします
	CALL ASK_MULTI("実行", "キャンセル", "対象名を入力")
	IF RESULT == 2
		PRINTFORML 誰が奪ったかを入力してください
		INPUTS
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):アナル処女 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_アナル処女 = %RESULTS%
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_アナル処女 = %RESULTS%
			ENDIF
		NEXT
	ELSEIF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				TALENT:(LOCAL:0):アナル処女 = 0
				SEXUAL_EXPERIENCE:(LOCAL:0):初体験_アナル処女 = 不明
				SEXUAL_LAST_EXPERIENCE:(LOCAL:0):初体験_アナル処女 = 不明
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 130
	PRINTFORML 主人公と別の勢力に所属する、未登場・死亡済み・君主でない全キャラを捕虜にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 1, CHARANUM
			SIF CFLAG:LOCAL:特殊状態 == 特殊状態_死亡 || (!CFLAG:LOCAL:所属 && !CFLAG:LOCAL:特殊状態) || GET_COUNTRY_BOSS(CFLAG:LOCAL:所属) == LOCAL:0
				CONTINUE
			IF CFLAG:MASTER:所属 != CFLAG:LOCAL:所属
				CALL CAPTURE(LOCAL:0, CFLAG:MASTER:所属)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 131
	PRINTFORML 未登場・死亡済み・君主でない全キャラを捕虜にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 1, CHARANUM
			SIF CFLAG:LOCAL:特殊状態 == 特殊状態_死亡 || (!CFLAG:LOCAL:所属 && !CFLAG:LOCAL:特殊状態) || GET_COUNTRY_BOSS(CFLAG:LOCAL:所属) == LOCAL:0
				CONTINUE
			CALL CAPTURE(LOCAL:0, CFLAG:MASTER:所属)
		NEXT
	ENDIF
ELSEIF RESULT == 150
	PRINTFORML 未登場・死亡済み・君主でない全キャラを自国の士官にします
	PRINTFORML 主人公が放浪している場合、全員放浪します
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			SIF CFLAG:LOCAL:特殊状態 == 特殊状態_死亡 || (!CFLAG:LOCAL:所属 && !CFLAG:LOCAL:特殊状態) || GET_COUNTRY_BOSS(CFLAG:LOCAL:所属) == LOCAL:0
				CONTINUE
			CALL CHANGE_COUNTRY(LOCAL:0, CFLAG:MASTER:所属, 1)
		NEXT
	ENDIF
ELSEIF RESULT == 200
	PRINTFORML 全てのキャラの好感度を、指定した値に変更します
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):2 = RESULT
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 201
	PRINTFORML 全てのキャラの好感度を、指定した値に変更します
	PRINTFORML ただし、元の好感度が指定した値より大きい場合、元の値が維持されます
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):2 = MAX(CFLAG:(LOCAL:0):2, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 202
	PRINTFORML 全てのキャラの好感度を、指定した値に変更します
	PRINTFORML ただし、元の好感度が指定した値より小さい場合、元の値が維持されます
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):2 = MIN(CFLAG:(LOCAL:0):2, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 210
	PRINTFORML 全てのキャラの従属度を、指定した値に変更します
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):4 = RESULT
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 211
	PRINTFORML 全てのキャラの従属度を、指定した値に変更します
	PRINTFORML ただし、元の好感度が指定した値より大きい場合、元の値が維持されます
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):4= MAX(CFLAG:(LOCAL:0):4, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 212
	PRINTFORML 全てのキャラの従属度を、指定した値に変更します
	PRINTFORML ただし、元の好感度が指定した値より小さい場合、元の値が維持されます
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):4 = MIN(CFLAG:(LOCAL:0):4, RESULT)
			ENDIF
		NEXT
	ENDIF


ELSEIF RESULT == 220
	PRINTFORML 全てのキャラの依存度を、指定した値に変更します
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):3 = RESULT
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 221
	PRINTFORML 全てのキャラの依存度を、指定した値に変更します
	PRINTFORML ただし、元の好感度が指定した値より大きい場合、元の値が維持されます
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):3 = MAX(CFLAG:(LOCAL:0):3, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 222
	PRINTFORML 全てのキャラの依存度を、指定した値に変更します
	PRINTFORML ただし、元の好感度が指定した値より小さい場合、元の値が維持されます
	PRINTFORML 指定できる値は -1000～999999999999 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= -1000 && RESULT <= 999999999999
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):3 = MIN(CFLAG:(LOCAL:0):3, RESULT)
			ENDIF
		NEXT
	ENDIF
	
;素質の追加
ELSEIF RESULT == 300 || RESULT == 301
	LOCAL:5 = -1
	IF RESULT == 300
		PRINTFORML 追加する素質の名称を入力して下さい(完全一致)
		INPUTS
		IF RESULTS != ""
			FOR LOCAL:0, 0, 1000
				IF TALENTNAME:(LOCAL:0) == RESULTS
					LOCAL:5 = LOCAL:0
					BREAK
				ENDIF
			NEXT
		ENDIF
		IF LOCAL:5 == -1 && RESULTS != ""
			PRINTFORMW 「%RESULTS%」と一致する名称の素質は存在しません
		ENDIF
	ELSE
		PRINTFORML 追加する素質の番号を入力して下さい
		INPUT
		IF RESULT >= 0 && RESULT <= 999 && TALENTNAME:RESULT != ""
			LOCAL:5 = RESULT
		ENDIF
		IF LOCAL:5 == -1
			PRINTFORMW その番号の素質は定義されていません
		ENDIF
	ENDIF
	IF LOCAL:5 >= 0
		IF IS_CONTROLABLE_TALENT(LOCAL:5)
			FOR LOCAL:0, 0, CHARANUM
				IF LOCAL:0 != MASTER
					TALENT:(LOCAL:0):(LOCAL:5) = 1
				ENDIF
			NEXT
			PRINTFORMW 全てのキャラに「%TALENTNAME:(LOCAL:5)%」を追加しました
		ELSE
			PRINTFORMW 素質「%TALENTNAME:(LOCAL:5)%」を直接操作することは出来ません
		ENDIF
	ENDIF

;素質の削除
ELSEIF RESULT == 310 || RESULT == 311
	LOCAL:5 = -1
	IF RESULT == 310
		PRINTFORML 削除する素質の名称を入力して下さい(完全一致)
		INPUTS
		IF RESULTS != ""
			FOR LOCAL:0, 0, 1000
				IF TALENTNAME:(LOCAL:0) == RESULTS
					LOCAL:5 = LOCAL:0
					BREAK
				ENDIF
			NEXT
		ENDIF
		IF LOCAL:5 == -1 && RESULTS != ""
			PRINTFORMW 「%RESULTS%」と一致する名称の素質は存在しません
		ENDIF
	ELSE
		PRINTFORML 削除する素質の番号を入力して下さい
		INPUT
		IF RESULT >= 0 && RESULT <= 999 && TALENTNAME:RESULT != ""
			LOCAL:5 = RESULT
		ENDIF
		IF LOCAL:5 == -1
			PRINTFORMW その番号の素質は定義されていません
		ENDIF
	ENDIF
	IF LOCAL:5 >= 0
		IF IS_CONTROLABLE_TALENT(LOCAL:5)
			FOR LOCAL:0, 0, CHARANUM
				IF LOCAL:0 != MASTER
					TALENT:(LOCAL:0):(LOCAL:5) = 0
				ENDIF
			NEXT
			PRINTFORMW 全てのキャラから「%TALENTNAME:(LOCAL:5)%」を削除しました
		ELSE
			PRINTFORMW 素質「%TALENTNAME:(LOCAL:5)%」を直接操作することは出来ません
		ENDIF
	ENDIF

ELSEIF GROUPMATCH(RESULT, 320, 321, 322, 330, 331, 332)
	LOCAL:5 = -1
	LOCAL:6 = RESULT % 10
	IF RESULT < 330
		PRINTFORML 追加する能力の名称を入力して下さい(完全一致)
		INPUTS
		IF RESULTS != ""
			FOR LOCAL:0, 0, 100
				IF ABLNAME:(LOCAL:0) == RESULTS
					LOCAL:5 = LOCAL:0
					BREAK
				ENDIF
			NEXT
		ENDIF
		IF LOCAL:5 == -1 && RESULTS != ""
			PRINTFORMW 「%RESULTS%」と一致する名称の能力は存在しません
		ENDIF
	ELSE
		PRINTFORML 追加する能力の番号を入力して下さい
		INPUT
		IF RESULT >= 0 && RESULT <= 99 && ABLNAME:RESULT != ""
			LOCAL:5 = RESULT
		ENDIF
		IF LOCAL:5 == -1
			PRINTFORMW その番号の能力は定義されていません
		ENDIF
	ENDIF
	IF LOCAL:5 >= 0
		IF LOCAL:6 == 1
			PRINTFORML 「%ABLNAME:(LOCAL:5)%」の値を入力して下さい({ABL_MIN:(LOCAL:5)}～{ABL_MAX:(LOCAL:5)})
			PRINTFORML 現在の値が入力した値よりも大きい場合、現在の値が維持されます
			PRINTFORML 範囲外の値を入力した場合、キャンセル扱いになります
			INPUT
			IF RESULT >= ABL_MIN:(LOCAL:5) && RESULT <= ABL_MAX:(LOCAL:5)
				FOR LOCAL:0, 0, CHARANUM
					IF LOCAL:0 != MASTER
						ABL:(LOCAL:0):(LOCAL:5) = MAX(ABL:(LOCAL:0):(LOCAL:5), RESULT)
					ENDIF
				NEXT
			ENDIF
			PRINTFORMW 全てのキャラの「%ABLNAME:(LOCAL:5)%」を{RESULT}以上に設定しました
		ELSEIF LOCAL:6 == 2
			PRINTFORML 「%ABLNAME:(LOCAL:5)%」の値を入力して下さい({ABL_MIN:(LOCAL:5)}～{ABL_MAX:(LOCAL:5)})
			PRINTFORML 現在の値が入力した値よりも小さい場合、現在の値が維持されます
			PRINTFORML 範囲外の値を入力した場合、キャンセル扱いになります
			INPUT
			IF RESULT >= ABL_MIN:(LOCAL:5) && RESULT <= ABL_MAX:(LOCAL:5)
				FOR LOCAL:0, 0, CHARANUM
					IF LOCAL:0 != MASTER
						ABL:(LOCAL:0):(LOCAL:5) = MIN(ABL:(LOCAL:0):(LOCAL:5), RESULT)
					ENDIF
				NEXT
			ENDIF
			PRINTFORMW 全てのキャラの「%ABLNAME:(LOCAL:5)%」を{RESULT}以下に設定しました
		ELSE
			PRINTFORML 「%ABLNAME:(LOCAL:5)%」の値を入力して下さい({ABL_MIN:(LOCAL:5)}～{ABL_MAX:(LOCAL:5)})
			PRINTFORML 範囲外の値を入力した場合、キャンセル扱いになります
			INPUT
			IF RESULT >= ABL_MIN:(LOCAL:5) && RESULT <= ABL_MAX:(LOCAL:5)
				FOR LOCAL:0, 0, CHARANUM
					IF LOCAL:0 != MASTER
						ABL:(LOCAL:0):(LOCAL:5) = RESULT
					ENDIF
				NEXT
			ENDIF
			PRINTFORMW 全てのキャラの「%ABLNAME:(LOCAL:5)%」を{RESULT}に設定しました
		ENDIF
	ENDIF
ELSEIF RESULT == 340
	PRINTFORML 全てのキャラの体力を、指定した値に変更します
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:体力 = RESULT
				BASE:LOCAL:体力 = RESULT
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 341
	PRINTFORML 全てのキャラの体力を、指定した値に変更します
	PRINTFORML ただし、元の体力が指定した値より大きい場合、元の値が維持されます
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:体力 = MAX(MAXBASE:LOCAL:体力, RESULT)
				BASE:LOCAL:体力 = MAX(MAXBASE:LOCAL:体力, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 342
	PRINTFORML 全てのキャラの体力を、指定した値に変更します
	PRINTFORML ただし、元の体力が指定した値より小さい場合、元の値が維持されます
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:体力 = MIN(MAXBASE:LOCAL:体力, RESULT)
				BASE:LOCAL:体力 = MIN(MAXBASE:LOCAL:体力, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 350
	PRINTFORML 全てのキャラの気力を、指定した値に変更します
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:気力 = RESULT
				BASE:LOCAL:気力 = RESULT
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 351
	PRINTFORML 全てのキャラの気力を、指定した値に変更します
	PRINTFORML ただし、元の気力が指定した値より大きい場合、元の値が維持されます
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:気力 = MAX(MAXBASE:LOCAL:気力, RESULT)
				BASE:LOCAL:気力 = MAX(MAXBASE:LOCAL:気力, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 352
	PRINTFORML 全てのキャラの気力を、指定した値に変更します
	PRINTFORML ただし、元の気力が指定した値より小さい場合、元の値が維持されます
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:気力 = MIN(MAXBASE:LOCAL:気力, RESULT)
				BASE:LOCAL:気力= MIN(MAXBASE:LOCAL:気力, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 360
	PRINTFORML 全てのキャラの精神力を、指定した値に変更します
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:精神力 = RESULT
				BASE:LOCAL:精神力 = RESULT
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 361
	PRINTFORML 全てのキャラの精神力を、指定した値に変更します
	PRINTFORML ただし、元の精神力が指定した値より大きい場合、元の値が維持されます
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:精神力 = MAX(MAXBASE:LOCAL:精神力, RESULT)
				BASE:LOCAL:精神力 = MAX(MAXBASE:LOCAL:精神力, RESULT)
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 362
	PRINTFORML 全てのキャラの精神力を、指定した値に変更します
	PRINTFORML ただし、元の精神力が指定した値より小さい場合、元の値が維持されます
	PRINTFORML 指定できる値は 1～5000 で、範囲外の値はキャンセル扱いになります
	PRINTFORML 指定する値を入力して下さい
	INPUT
	IF RESULT >= 1 && RESULT <= 5000
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				MAXBASE:LOCAL:精神力 = MIN(MAXBASE:LOCAL:精神力, RESULT)
				BASE:LOCAL:精神力= MIN(MAXBASE:LOCAL:精神力, RESULT)
			ENDIF
		NEXT
	ENDIF


ELSEIF RESULT == 400
	PRINTFORML 全てのキャラを初対面の状態に戻します
	CALL ASK_MULTI("実行(フラグのみリセット)", "実行(フラグ・好感度・従属度・依存度・陥落素質をリセット)", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):面識 = 0
			ENDIF
		NEXT
	ELSEIF RESULT == 1
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):面識 = 0
				CFLAG:(LOCAL:0):2 = 0
				CFLAG:(LOCAL:0):3 = 0
				CFLAG:(LOCAL:0):4 = 0
				TALENT:(LOCAL:0):恋慕 = 0
				TALENT:(LOCAL:0):親愛 = 0
				TALENT:(LOCAL:0):親友 = 0
				TALENT:(LOCAL:0):恋人 = 0
				TALENT:(LOCAL:0):服従 = 0
				TALENT:(LOCAL:0):隷属 = 0
				TALENT:(LOCAL:0):烙印 = 0
				TALENT:(LOCAL:0):合意 = 0
			ENDIF
		NEXT
	ENDIF
ELSEIF RESULT == 401
	PRINTFORML 全てのキャラと面識がある状態にします
	CALL ASK_YN("実行", "キャンセル")
	IF RESULT == 0
		FOR LOCAL:0, 0, CHARANUM
			IF LOCAL:0 != MASTER
				CFLAG:(LOCAL:0):面識 = 1
			ENDIF
		NEXT
	ENDIF
ELSE
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF
CLEARLINE LINECOUNT - FIRST_LINE
RESTART

;-------------------------------------------------
;素質が全員一括のデータ操作で変更可能かどうかを調べる関数
;-------------------------------------------------
@IS_CONTROLABLE_TALENT(ARG:0)
#FUNCTION
SIF ARG:0 <= 9 || ARG:0 >= 300
	RETURNF 0
SIF GROUPMATCH(TALENTNAME:(ARG:0), "妊娠", "育児中", "触手妊娠", "Ａ触手妊娠")
	RETURNF 0
SIF GROUPMATCH(TALENTNAME:(ARG:0), "絶壁", "貧乳", "巨乳", "爆乳", "超短小", "短小", "巨根", "超巨根")
	RETURNF 0
RETURNF 1

;-------------------------------------------------
;キャラデータの書き換え
;-------------------------------------------------
@CONFIG_DATA_EDIT_CHARA
#DIM FIRST_LINE
CALL SINGLE_DRAWLINE
PRINTL 操作するキャラを選択して下さい
CALL SINGLE_DRAWLINE

LOCAL:10 = (CHARANUM - 1) / 44 + 1
FIRST_LINE = LINECOUNT
$SHOW_LOOP
IF LOCAL:11 < 1
	LOCAL:11 = 1
ELSEIF LOCAL:11 > LOCAL:10
	LOCAL:11 = LOCAL:10
ENDIF

LOCAL:12 = (LOCAL:11 - 1) * 44
LOCAL:13 = LOCAL:11 * 44
LOCAL:14 = 0
LOCAL:15 = 0
LOCAL:16 = 0
FOR LOCAL:0, 0, CHARANUM
	IF LOCAL:14 >= LOCAL:12 && LOCAL:14 < LOCAL:13
		IF LOCAL:15 >= 1
			IF LOCAL:15 % 2 == 0 
				PRINTL 
				LOCAL:16 ++
			ELSE
				PRINTPLAIN   
			ENDIF
		ENDIF
		CALL PRINT_PARTNER_DATA(LOCAL:0)
		LOCAL:15 ++
	ENDIF
	LOCAL:14 ++
NEXT
FOR LOCAL:0, 0, 22 - LOCAL:16
	PRINTL 
	LOCAL:16 ++
NEXT

CALL SINGLE_DRAWLINE
IF LOCAL:10 >= 2
	LOCAL:16 += 2
	PRINTBUTTON "    1[前のページ]", 1
	PRINTPLAIN     
	PRINTBUTTON "    2[次のページ]", 2
	PRINTL 
	CALL SINGLE_DRAWLINE
ENDIF
PRINTBUTTON "    0[戻る]", 0
PRINTL 

LOCAL:16 += 3

REDRAW 0

$INPUT_LOOP
INPUT

IF RESULT == 0
	REDRAW 1
	RETURN
ELSEIF RESULT == 1 && LOCAL:10 >= 2
	LOCAL:11 -= 1
	IF LOCAL:11 < 1
		LOCAL:11 = LOCAL:10
	ENDIF
	CLEARLINE LINECOUNT - FIRST_LINE
	GOTO SHOW_LOOP
ELSEIF RESULT == 2 && LOCAL:10 >= 2
	LOCAL:11 += 1
	IF LOCAL:11 > LOCAL:10
		LOCAL:11 = 1
	ENDIF
	CLEARLINE LINECOUNT - FIRST_LINE
	GOTO SHOW_LOOP
ELSE
	LOCAL:5 = NO_TO_CHARA(RESULT - 100)
	IF LOCAL:5 < 0
		CLEARLINE 1
		GOTO INPUT_LOOP
	ENDIF
ENDIF

CALL CONFIG_DATA_EDIT_CHARA_UI(LOCAL:5)

RESTART

;-------------------------------------------------
;キャラクタ変数の操作(UI) ARG:0はキャラクタ番号
;-------------------------------------------------
@CONFIG_DATA_EDIT_CHARA_UI(ARG:0)
;設定する内容
#DIM MODE = 0

;素質のページ
#DIM PAGE = 1
#DIM MAX_PAGE = 0

;髪のHSVカラー
#DIM HAIR_HSV, 3

;TALENTNAMEの一時保存用
#DIMS TN
#DIMS STN
;君主かどうかのフラグ
#DIM F_COUNTRY_BOSS
#DIM FIRST_LINE
FIRST_LINE = LINECOUNT
$SHOW_LOOP0

;君主かどうかをチェック
F_COUNTRY_BOSS = (GET_COUNTRY_FROM_BOSS_ID(GET_ID(ARG:0)) != -1)

;髪色のHSV値を計算
IF TALENT:(ARG:0):302 != 0
	HAIR_HSV:0 = RGB_TO_H(TALENT:(ARG:0):302)
	HAIR_HSV:1 = RGB_TO_S(TALENT:(ARG:0):302)
	HAIR_HSV:2 = RGB_TO_V(TALENT:(ARG:0):302)
ELSE
	VARSET HAIR_HSV, 0
ENDIF

$SHOW_LOOP1

CALL SINGLE_DRAWLINE
PRINTFORM No.{NO:(ARG:0)}  %NAME_FORMAL(ARG:0)%    キャラクタ番号={ARG:0, 3, LEFT}  
PRINTBUTTON "1999[名前の変更]", 1999
PRINTL 
CALL SINGLE_DRAWLINE

SELECTCASE MODE
	;●ABL設定タブの表示
	CASE 0
		;行数管理用。改行のたびに加算
		LOCAL:4 = 0

		FOR LOCAL:0, 0, 3
			PRINTFORM %BASENAME:(LOCAL:0), 8%最大値:{MAXBASE:(ARG:0):(LOCAL:0), 4} --
			PRINTBUTTON @"{LOCAL:0 + 700}[入力]", LOCAL:0 + 700
			PRINTL 
			LOCAL:4 ++
		NEXT
		PRINTL 

		LOCAL:3 = 0
		FOR LOCAL:0, 0, 100
			LOCALS:0 = %ABLNAME:(LOCAL:0)%
			IF LOCALS:0 != ""
				IF LOCAL:3 % 3 == 0
					IF LOCAL:3 >= 1
						PRINTL 
						LOCAL:4 ++
					ENDIF
					PRINT     
				ELSE
					PRINT    
				ENDIF
				PRINTFORM %ABLNAME:(LOCAL:0), 10%:{ABL:(ARG:0):(LOCAL:0), 4} -- 
				PRINTBUTTON @"{LOCAL:0, 2}[入力]", LOCAL:0
				LOCAL:3 ++
			ENDIF
		NEXT
		PRINTL 

		FOR LOCAL:0, LOCAL:4, 16
			PRINTL 
		NEXT

	;●TALENT設定タブの表示
	CASE 1
		;最大ページ数の計算
		LOCAL:3 = 0
		FOR LOCAL:0, 3, 300
			TN = %TALENTNAME:(LOCAL:0)%
			IF TN != ""
				;非表示素質のスキップ
				IF GROUPMATCH(TN, "絶壁", "貧乳", "巨乳", "爆乳", "超短小", "短小", "巨根", "超巨根")
					CONTINUE
				ELSEIF LOCAL:0 >= 150 && LOCAL:0 <= 179 && !GROUPMATCH(TN, "合意", "母性")
					CONTINUE
				ELSEIF LOCAL:0 >= 295 && LOCAL:0 <= 299
					CONTINUE
				ENDIF
				LOCAL:3 ++
			ENDIF
		NEXT
		MAX_PAGE = (LOCAL:3 - 1) / 44 + 1
		;ページが範囲外なら修正
		IF PAGE >= 1
			PAGE = (PAGE - 1) % MAX_PAGE + 1
		ELSE
			PAGE = MAX_PAGE - (-PAGE) % MAX_PAGE
		ENDIF

		LOCAL:3 = 0
		LOCAL:4 = 0
		LOCAL:5 = 0
		FOR LOCAL:0, 3, 300
			TN = %TALENTNAME:(LOCAL:0)%
			IF TN != ""
				;非表示素質のスキップ
				IF GROUPMATCH(TN, "キス未経験", "アナル処女", "絶壁", "貧乳", "巨乳", "爆乳", "超短小", "短小", "巨根", "超巨根")
					CONTINUE
				ELSEIF LOCAL:0 >= 150 && LOCAL:0 <= 179 && !GROUPMATCH(TN, "合意", "母性")
					CONTINUE
				ELSEIF LOCAL:0 >= 295 && LOCAL:0 <= 299
					CONTINUE
				ENDIF

				IF LOCAL:3 >= (PAGE - 1) * 44 && LOCAL:3 < PAGE * 44
					;改行判定
					IF LOCAL:5 % 4 == 0
						IF LOCAL:5 >= 1
							PRINTL 
						ENDIF
						PRINT   
						LOCAL:4 ++
					ENDIF
					LOCAL:5 ++
					IF TALENT:(ARG:0):(LOCAL:0)
						SETCOLOR カラー_選択中
					ENDIF
					PRINTBUTTON @"{LOCAL:0, 3}\{%TN, 14%\}", LOCAL:0
					RESETCOLOR
					PRINT    
				ENDIF
				LOCAL:3 ++
			ENDIF
		NEXT
		FOR LOCAL:0, LOCAL:4, 11
			PRINTL 
		NEXT

		PRINTL 
		PRINT   
		PRINTBUTTON "901[前のページ]", 901
		PRINT   
		PRINTBUTTON "902[次のページ]", 902
		PRINTL 
		CALL SINGLE_DRAWLINE
		LOCAL:0 = TALENT:(ARG:0):300
		LOCALS:0 = (%TOSTR_GROWTYPE_B(LOCAL:0)%に適性)
		PRINTFORM    成長型:%TOSTR_GROWTYPE(LOCAL:0)%%LOCALS:0, 25, LEFT%
		PRINTBUTTON "300[変更]", 300
		PRINTL 
		PRINTFORM      髪色:
		CALL PRINT_HAIR_COLOR(TALENT:(ARG:0):302)
		PRINTFORM %TOSTR_SPACE(19)%
		PRINTBUTTON "310[ランダム]", 310
		PRINT  
;		IF INI_TALENT:(ARG:0):302 != 0
;			PRINTBUTTON "318[初期化]", 318
;		ELSE
;			SETCOLOR カラー_選択不可
;			PRINTPLAIN 318[初期化]
;			RESETCOLOR
;		ENDIF
		IF TALENT:(ARG:0):302 != 0
			PRINT  
			PRINTBUTTON "319[不明にする]", 319
		ENDIF
		PRINTL 
		IF TALENT:(ARG:0):302 != 0
			PRINT           
			PRINTBUTTON "311[色相+10]", 311
			PRINT  
			PRINTBUTTON "312[色相-10]", 312
			PRINT  
			PRINTBUTTON "313[彩度+5]", 313
			PRINT  
			PRINTBUTTON "314[彩度-5]", 314
			PRINT  
			PRINTBUTTON "315[明度+5]", 315
			PRINT  
			PRINTBUTTON "316[明度-5]", 316
			PRINT  
		ENDIF
		PRINTL 
		LOCALS:0 = %TOSTR_HAIR_LENGTH(TALENT:(ARG:0):303)%({TALENT:(ARG:0):303})
		PRINTFORM  髪の長さ:%LOCALS:0, 29, LEFT%
		PRINTBUTTON "320[ランダム]", 320
		PRINT  
		PRINTBUTTON "321[直接入力]", 321
		PRINTL 
		PRINTL  ※髪色・髪の長さはコンフィグの「外見に関する詳細の表示」がONのときのみ表示

	;●肉体陥落素質設定タブの表示
	CASE 3
		;最大ページ数の計算
		LOCAL:3 = 0
		FOR LOCAL:0, 0, VARSIZE("SEX_TALENT_NAME")
			STN = %SEX_TALENT_NAME:(LOCAL:0)%
			IF STN != ""
				LOCAL:3 ++
			ENDIF
		NEXT
		MAX_PAGE = (LOCAL:3 - 1) / 64 + 1
		;ページが範囲外なら修正
		IF PAGE >= 1
			PAGE = (PAGE - 1) % MAX_PAGE + 1
		ELSE
			PAGE = MAX_PAGE - (-PAGE) % MAX_PAGE
		ENDIF

		LOCAL:3 = 0
		LOCAL:4 = 0
		LOCAL:5 = 0
		FOR LOCAL:0, 0, VARSIZE("SEX_TALENT_NAME")
			STN = %SEX_TALENT_NAME:(LOCAL:0)%
			IF STN != ""
				IF LOCAL:3 >= (PAGE - 1) * 64 && LOCAL:3 < PAGE * 64
					;改行判定
					IF LOCAL:5 % 4 == 0
						IF LOCAL:5 >= 1
							PRINTL 
						ENDIF
						PRINT   
						LOCAL:4 ++
					ENDIF
					LOCAL:5 ++
					IF GETBIT(TALENT:(ARG:0):GETNUM(TALENT, "淫乱系"), LOCAL:0)
						SETCOLOR カラー_選択中
					ENDIF
					PRINTBUTTON @"{LOCAL:0, 3}\{%STN, 14%\}", LOCAL:0
					RESETCOLOR
					PRINT    
				ENDIF
				LOCAL:3 ++
			ENDIF
		NEXT
		FOR LOCAL:0, LOCAL:4, 17
			PRINTL 
		NEXT

		PRINTL 
		PRINT   
		PRINTBUTTON "901[前のページ]", 901
		PRINT   
		PRINTBUTTON "902[次のページ]", 902
		PRINTL 
	;●デイリー系素質設定タブの表示
	CASE 4
		;最大ページ数の計算
		LOCAL:3 = 0
		FOR LOCAL:0, 0, VARSIZE("DAILY_TALENT_NAME")
			STN = %DAILY_TALENT_NAME:(LOCAL:0)%
			IF STN != ""
				LOCAL:3 ++
			ENDIF
		NEXT
		MAX_PAGE = (LOCAL:3 - 1) / 64 + 1
		;ページが範囲外なら修正
		IF PAGE >= 1
			PAGE = (PAGE - 1) % MAX_PAGE + 1
		ELSE
			PAGE = MAX_PAGE - (-PAGE) % MAX_PAGE
		ENDIF

		LOCAL:3 = 0
		LOCAL:4 = 0
		LOCAL:5 = 0
		FOR LOCAL:0, 0, VARSIZE("DAILY_TALENT_NAME")
			STN = %DAILY_TALENT_NAME:(LOCAL:0)%
			IF STN != ""
				IF LOCAL:3 >= (PAGE - 1) * 64 && LOCAL:3 < PAGE * 64
					;改行判定
					IF LOCAL:5 % 4 == 0
						IF LOCAL:5 >= 1
							PRINTL 
						ENDIF
						PRINT   
						LOCAL:4 ++
					ENDIF
					LOCAL:5 ++
					IF GETBIT(TALENT:(ARG:0):GETNUM(TALENT, "デイリー系"), LOCAL:0)
						SETCOLOR カラー_選択中
					ENDIF
					PRINTBUTTON @"{LOCAL:0, 3}\{%STN, 14%\}", LOCAL:0
					RESETCOLOR
					PRINT    
				ENDIF
				LOCAL:3 ++
			ENDIF
		NEXT
		FOR LOCAL:0, LOCAL:4, 17
			PRINTL 
		NEXT

		PRINTL 
		PRINT   
		PRINTBUTTON "901[前のページ]", 901
		PRINT   
		PRINTBUTTON "902[次のページ]", 902
		PRINTL 
	;●特殊勢力陥落素質設定タブの表示
	CASE 5
		;最大ページ数の計算
		LOCAL:3 = 0
		FOR LOCAL:0, 0, MAX_SP_COUNTRY
			STN = %SP_FALLEN_TALENT_NAME:(LOCAL:0)%
			IF STN != ""
				LOCAL:3 ++
			ENDIF
		NEXT
		MAX_PAGE = (LOCAL:3 - 1) / 64 + 1
		;ページが範囲外なら修正
		IF PAGE >= 1
			PAGE = (PAGE - 1) % MAX_PAGE + 1
		ELSE
			PAGE = MAX_PAGE - (-PAGE) % MAX_PAGE
		ENDIF

		LOCAL:3 = 0
		LOCAL:4 = 0
		LOCAL:5 = 0
		FOR LOCAL:0, 0, MAX_SP_COUNTRY
			STN = %SP_FALLEN_TALENT_NAME:(LOCAL:0)%
			IF STN != ""
				IF LOCAL:3 >= (PAGE - 1) * 64 && LOCAL:3 < PAGE * 64
					;改行判定
					IF LOCAL:5 % 4 == 0
						IF LOCAL:5 >= 1
							PRINTL 
						ENDIF
						PRINT   
						LOCAL:4 ++
					ENDIF
					LOCAL:5 ++
					IF GETBIT(TALENT:(ARG:0):GETNUM(TALENT, "特殊勢力陥落系"), LOCAL:0)
						SETCOLOR カラー_選択中
					ENDIF
					PRINTBUTTON @"{LOCAL:0, 3}\{%STN, 14%\}", LOCAL:0
					RESETCOLOR
					PRINT    
				ENDIF
				LOCAL:3 ++
			ENDIF
		NEXT
		FOR LOCAL:0, LOCAL:4, 17
			PRINTL 
		NEXT

		PRINTL 
		PRINT   
		PRINTBUTTON "901[前のページ]", 901
		PRINT   
		PRINTBUTTON "902[次のページ]", 902
		PRINTL 
	;●EXP設定タブの表示
	CASE 6
		LOCAL:3 = 0
		LOCAL:4 = 0
		FOR LOCAL:0, 40, 69
			LOCALS:0 = %EXPNAME:(LOCAL:0)%
			IF LOCALS:0 != ""
				IF LOCAL:3 % 2 == 0
					IF LOCAL:3 >= 1
						PRINTL 
						LOCAL:4 ++
					ENDIF
					PRINT     
				ELSE
					PRINT    
				ENDIF
				PRINTFORM %EXPNAME:(LOCAL:0), 14%:{EXP:(ARG:0):(LOCAL:0), 4} -- 
				PRINTBUTTON @"{LOCAL:0, 2}[入力]", LOCAL:0
				LOCAL:3 ++
			ENDIF
		NEXT
		PRINTL 
		CALL SINGLE_DRAWLINE

		PRINT     童貞 --
		CALL PRINTBUTTON_EX("80{童貞] ", 80, 1, TALENT:(ARG:0):童貞 == 1)
		CALL PRINTBUTTON_EX("81{非童貞] ", 81, 1, TALENT:(ARG:0):童貞 == 0)
		CALL PRINTBUTTON_EX("82{無自覚非童貞] ", 82, 1, TALENT:(ARG:0):童貞 == 2)
		PRINTL 
		PRINT     処女 --
		CALL PRINTBUTTON_EX("90{処女] ", 90, 1, TALENT:(ARG:0):処女 == 1)
		CALL PRINTBUTTON_EX("91{非処女] ", 91, 1, TALENT:(ARG:0):処女 == 0)
		CALL PRINTBUTTON_EX("92{無自覚非処女] ", 92, 1, TALENT:(ARG:0):処女 == 2)
		PRINTL 
		PRINT     アナル処女 --
		CALL PRINTBUTTON_EX("100{処女] ", 100, 1, TALENT:(ARG:0):アナル処女 == 1)
		CALL PRINTBUTTON_EX("101{非処女] ", 101, 1, TALENT:(ARG:0):アナル処女 == 0)
		CALL PRINTBUTTON_EX("102{無自覚非処女] ", 102, 1, TALENT:(ARG:0):アナル処女 == 2)
		PRINTL 

		PRINTPLAIN     
		IF !TALENT:(ARG:0):キス未経験
			PRINTBUTTON "110[キスに関する経験を全て初期化]", 110
		ELSE
			SETCOLOR カラー_選択不可
			PRINTPLAIN 110[キスに関する経験を全て初期化]
			RESETCOLOR
			PRINT   ※キスに関する経験はありません
		ENDIF
		PRINTL 
		PRINTPLAIN     
		PRINTBUTTON "120[全ウフフコマンドの実行回数を100以上にする]", 120
		PRINTL 
		PRINTPLAIN     
		PRINTBUTTON "130[陰毛の設定]", 130
		PRINTL 
		PRINTPLAIN     
		PRINTBUTTON "140[Ｖ締まりの設定]" , 140
		PRINT     
		PRINTBUTTON "141[Ａ締まりの設定]", 141
		PRINTL 
		PRINTPLAIN     
		PRINTBUTTON "150[ピアスの設定]", 150
		PRINTL 
		PRINTPLAIN     
		PRINTBUTTON "151[タトゥーの設定]", 151
		PRINTL
		FOR LOCAL:0, LOCAL:4, 6
			PRINTL 
		NEXT
	CASE 7
		VARSET SHOP_CHARA_LIST, -1
		FOR LOCAL, 0, CHARANUM
			SHOP_CHARA_LIST:LOCAL = LOCAL
		NEXT
		CALL SHOW_INFO_WITH_UI(ARG:0, 1)
		MODE = 0
		CLEARLINE LINECOUNT - FIRST_LINE
		GOTO SHOW_LOOP1
	;●その他設定タブの表示
	CASEELSE
		PRINT     性別 -- 
		CALL PRINTBUTTON_EX("10{  男性} ", 10, 1, TALENT:(ARG:0):性別 == 0)
		CALL PRINTBUTTON_EX("11{  女性} ", 11, !IS_ANIMAL(ARG:0), TALENT:(ARG:0):性別 == 1)
		CALL PRINTBUTTON_EX("12{  女双} ", 12, !IS_ANIMAL(ARG:0), TALENT:(ARG:0):性別 == 2)
		CALL PRINTBUTTON_EX("13{  男双} ", 13, !IS_ANIMAL(ARG:0), TALENT:(ARG:0):性別 == 3)
		CALL PRINTBUTTON_EX("14{男の娘} ", 14, !IS_ANIMAL(ARG:0), TALENT:(ARG:0):性別 == 4)
		CALL PRINTBUTTON_EX("15{男娘双} ", 15, !IS_ANIMAL(ARG:0), TALENT:(ARG:0):性別 == 5)
		PRINTL 

		PRINT   バスト -- 
		LOCAL:0 = TALENT:(ARG:0):絶壁 || TALENT:(ARG:0):貧乳 || TALENT:(ARG:0):巨乳 || TALENT:(ARG:0):爆乳
		CALL PRINTBUTTON_EX("20{  絶壁} ", 20, 1, TALENT:(ARG:0):絶壁)
		CALL PRINTBUTTON_EX("21{  貧乳} ", 21, 1, TALENT:(ARG:0):貧乳)
		CALL PRINTBUTTON_EX("22{  並乳} ", 22, 1, !LOCAL:0)
		CALL PRINTBUTTON_EX("23{  巨乳} ", 23, 1, TALENT:(ARG:0):巨乳)
		CALL PRINTBUTTON_EX("24{  爆乳} ", 24, 1, TALENT:(ARG:0):爆乳)
		PRINT ※女性・ふたなりのみ適用
		PRINTL 

		PRINT   ペニス -- 
		LOCAL:0 = TALENT:(ARG:0):超短小 || TALENT:(ARG:0):短小 || TALENT:(ARG:0):巨根 || TALENT:(ARG:0):超巨根
		CALL PRINTBUTTON_EX("25{超短小} ", 25, 1, TALENT:(ARG:0):超短小)
		CALL PRINTBUTTON_EX("26{  短小} ", 26, 1, TALENT:(ARG:0):短小)
		CALL PRINTBUTTON_EX("27{  普通} ", 27, 1, !LOCAL:0)
		CALL PRINTBUTTON_EX("28{  巨根} ", 28, 1, TALENT:(ARG:0):巨根)
		CALL PRINTBUTTON_EX("29{超巨根} ", 29, 1, TALENT:(ARG:0):超巨根)
		PRINT ※ペニスがある場合のみ適用
		PRINTL 

		PRINT     対面 -- 
		CALL PRINTBUTTON_EX("30{初対面} ", 30, 1, !CFLAG:(ARG:0):面識)
		CALL PRINTBUTTON_EX("31{対面済み} ", 31, 1, CFLAG:(ARG:0):面識)
		PRINTL 

		PRINTL 

		PRINT     所属 -- 
		IF CFLAG:(ARG:0):所属 == 0
			IF CFLAG:(ARG:0):特殊状態 == 特殊状態_死亡
				PRINTFORM 無所属(死亡)          
			ELSEIF CFLAG:(ARG:0):特殊状態 == 特殊状態_放浪
				PRINTFORM 無所属(放浪)          
			ELSE
				PRINTFORM 無所属(未登場)        
			ENDIF
		ELSE
			PRINTFORM %NAME_FORMAL(GET_COUNTRY_BOSS(CFLAG:(ARG:0):所属)), 22, LEFT%
		ENDIF
		IF F_COUNTRY_BOSS
			SETCOLOR カラー_選択不可
			PRINTPLAIN ※君主は変更不可※
			RESETCOLOR
		ELSE
			CALL PRINTBUTTON_EX("50[  変更] ", 50)
			CALL PRINTBUTTON_EX("51[  一覧] ", 51)
		ENDIF
		PRINTL 

		IF CFLAG:(ARG:0):特殊状態 != 特殊状態_死亡
			PRINT     捕虜 -- 
			IF CFLAG:(ARG:0):捕虜先 == 0
				PRINT なし                  
			ELSE
				PRINTFORM %NAME_FORMAL(GET_COUNTRY_BOSS(CFLAG:(ARG:0):捕虜先)), 22, LEFT%
			ENDIF
			IF F_COUNTRY_BOSS
				SETCOLOR カラー_選択不可
				PRINTPLAIN ※君主は変更不可※
				RESETCOLOR
			ELSE
				CALL PRINTBUTTON_EX("60[  変更] ", 60)
				CALL PRINTBUTTON_EX("61[  一覧] ", 61)
			ENDIF
		ENDIF
		PRINTL 

		IF CFLAG:(ARG:0):特殊状態 != 特殊状態_死亡 && CFLAG:(ARG:0):捕虜先
			PRINT 捕虜状況 -- 
			CALL PRINTBUTTON_EX("62{  監禁} ", 62, 1, CFLAG:(ARG:0):捕虜先 && CFLAG:(ARG:0):監禁状態 == 0)
			CALL PRINTBUTTON_EX("63{  軟禁} ", 63, 1, CFLAG:(ARG:0):捕虜先 && CFLAG:(ARG:0):監禁状態 == 1)
		ENDIF
		PRINTL 

		PRINT   好感度 -- 
		PRINTFORM {CFLAG:(ARG:0):2, 22, LEFT}
		CALL PRINTBUTTON_EX("70[  入力] ", 70)
		PRINTL 

		PRINT   依存度 -- 
		PRINTFORM {CFLAG:(ARG:0):3, 22, LEFT}
		CALL PRINTBUTTON_EX("71[  入力] ", 71)
		PRINTL 

		PRINT   従属度 -- 
		PRINTFORM {CFLAG:(ARG:0):4, 22, LEFT}
		CALL PRINTBUTTON_EX("72[  入力] ", 72)
		PRINTL 
		PRINTL 

		IF ARG:0 != MASTER
			PRINTL   ◇特殊な素質の設定◇  ※好感度、依存度、従属度やその他素質が条件に合うように変更されます
			PRINT           現在所持: 
			LOCALS:0 = 
			SIF TALENT:(ARG:0):親愛
				LOCALS:0 += "親愛／"
			SIF TALENT:(ARG:0):恋慕
				LOCALS:0 += "恋慕／"
			SIF TALENT:(ARG:0):親友
				LOCALS:0 += "親友／"
			SIF TALENT:(ARG:0):隷属
				LOCALS:0 += "隷属／"
			SIF TALENT:(ARG:0):服従
				LOCALS:0 += "服従／"
			SIF TALENT:(ARG:0):恋人
				LOCALS:0 += "恋人／"
			SIF TALENT:(ARG:0):烙印
				LOCALS:0 += "烙印／"
			SIF TALENT:(ARG:0):虚ろ
				LOCALS:0 += "虚ろ／"
			SIF TALENT:(ARG:0):崩壊
				LOCALS:0 += "崩壊／"
			SIF TALENT:(ARG:0):合意
				LOCALS:0 += "合意／"
			IF LOCALS:0 == ""
				RESULTS = 
			ELSE
				SUBSTRING LOCALS:0, 0, STRLENS(LOCALS:0) - 2
			ENDIF
			PRINTFORML %RESULTS%

			PRINTPLAIN           
			IF !TALENT:(ARG:0):恋人
				PRINTBUTTON "100[恋人を付ける]", 100
			ELSE
				PRINTBUTTON "100[恋人を消去  ]", 100
			ENDIF
			PRINTPLAIN     
			IF !TALENT:(ARG:0):恋慕
				PRINTBUTTON "101[恋慕を付ける]", 101
			ELSE
				PRINTBUTTON "101[恋慕を消去  ]", 101
			ENDIF
			PRINTPLAIN     
			IF !TALENT:(ARG:0):親愛
				PRINTBUTTON "102[親愛を付ける]", 102
			ELSE
				PRINTBUTTON "102[親愛を消去  ]", 102
			ENDIF
			PRINTL 

			PRINTPLAIN           
			IF !TALENT:(ARG:0):親友
				IF !IS_SAMESEX(MASTER, ARG:0) || TALENT:(ARG:0):両刀
					SETCOLOR カラー_選択不可
					PRINTPLAIN 103[親友を付ける]
					RESETCOLOR
				ELSE
					PRINTBUTTON "103[親友を付ける]", 103
				ENDIF
				PRINTPLAIN  ※主人公と同性で<両刀>を持たない場合に限る
			ELSE
				PRINTBUTTON "103[親友を消去  ]", 103
			ENDIF
			PRINTL 

			PRINTPLAIN           
			IF !TALENT:(ARG:0):烙印
				PRINTBUTTON "110[烙印を付ける]", 110
			ELSE
				PRINTBUTTON "110[烙印を消去  ]", 110
			ENDIF
			PRINTPLAIN     
			IF !TALENT:(ARG:0):服従
				PRINTBUTTON "111[服従を付ける]", 111
			ELSE
				PRINTBUTTON "111[服従を消去  ]", 111
			ENDIF
			PRINTPLAIN     
			IF !TALENT:(ARG:0):隷属
				PRINTBUTTON "112[隷属を付ける]", 112
			ELSE
				PRINTBUTTON "112[隷属を消去  ]", 112
			ENDIF
			PRINTL 

			PRINTPLAIN           
			IF !TALENT:(ARG:0):虚ろ
				PRINTBUTTON "120[虚ろを付ける]", 120
			ELSE
				PRINTBUTTON "120[虚ろを消去  ]", 120
			ENDIF
			PRINTPLAIN     
			IF !TALENT:(ARG:0):崩壊
				PRINTBUTTON "121[崩壊を付ける]", 121
			ELSE
				PRINTBUTTON "121[崩壊を消去  ]", 121
			ENDIF
			PRINTL 

			PRINTPLAIN           
			IF !TALENT:(ARG:0):合意
				PRINTBUTTON "130[合意を付ける]", 130
			ELSE
				PRINTBUTTON "130[合意を消去  ]", 130
			ENDIF
			PRINTL 

		ELSE
			FOR LOCAL:0, 0, 7
				PRINTL 
			NEXT
		ENDIF
ENDSELECT

CALL SINGLE_DRAWLINE
CALL PRINTBUTTON_EX("2000[能力]", 2000, 1, MODE == 0)
PRINT   
CALL PRINTBUTTON_EX("2001[素質]", 2001, 1, MODE == 1)
PRINT   
CALL PRINTBUTTON_EX("2003[陥落]", 2003, 1, MODE == 3)
PRINT   
CALL PRINTBUTTON_EX("2004[ﾃﾞｲﾘｰ]", 2004, 1, MODE == 4)
PRINT   
CALL PRINTBUTTON_EX("2005[特殊]", 2005, 1, MODE == 5)
PRINT   
CALL PRINTBUTTON_EX("2006[経験]", 2006, 1, MODE == 6)
PRINT   
CALL PRINTBUTTON_EX("2007[詳細]", 2007, 1, MODE == 7)
PRINT   
CALL PRINTBUTTON_EX("2008[  他]", 2008, 1, MODE == 8)
PRINTL
CALL SINGLE_DRAWLINE
PRINTBUTTON "3001[←前のキャラ]", 3001
PRINT     
PRINTBUTTON "3002[次のキャラ→]", 3002
PRINTL 
CALL SINGLE_DRAWLINE
PRINTBUTTON "9999[戻る]", 9999
PRINTL 

REDRAW 0

$INPUT_LOOP
INPUT

IF RESULT == 9999
	REDRAW 1
	RETURN

ELSEIF RESULT == 1999
	CALL CONFIG_NAME_CHANGE(ARG:0)
	GOTO SHOW_LOOP0

ELSEIF RESULT == 3001
	ARG:0 --
	IF ARG:0 < 0
		ARG:0 = CHARANUM - 1
	ENDIF
	CLEARLINE LINECOUNT - FIRST_LINE
	GOTO SHOW_LOOP0

ELSEIF RESULT == 3002
	ARG:0 ++
	IF ARG:0 >= CHARANUM
		ARG:0 = 0
	ENDIF
	CLEARLINE LINECOUNT - FIRST_LINE
	GOTO SHOW_LOOP0

ELSEIF RESULT == 2000
	MODE = 0

ELSEIF RESULT == 2001
	MODE = 1


ELSEIF RESULT == 2003
	MODE = 3
ELSEIF RESULT == 2004
	MODE = 4
ELSEIF RESULT == 2005
	MODE = 5
ELSEIF RESULT == 2006
	MODE = 6
ELSEIF RESULT == 2007
	MODE = 7
ELSEIF RESULT == 2008
	MODE = 8
;能力設定
ELSEIF MODE == 0
	IF RESULT >= 0 && RESULT < 100 && ABLNAME:(RESULT) != ""
		LOCAL:0 = RESULT
		PRINTFORML %ABLNAME:(LOCAL:0)% の値を入力して下さい({ABL_MIN:(LOCAL:0)}～{ABL_MAX:(LOCAL:0)})
		INPUT
		ABL:(ARG:0):(LOCAL:0) = LIMIT(RESULT, ABL_MIN:(LOCAL:0), ABL_MAX:(LOCAL:0))
		GOTO SHOW_LOOP1
	ELSEIF RESULT >= 700 && RESULT <= 702
		LOCAL:0 = RESULT - 700
		PRINTFORML %BASENAME:(LOCAL:0)% の最大値を入力して下さい(500～5000)
		INPUT
		MAXBASE:(ARG:0):(LOCAL:0) = LIMIT(RESULT, 500, 5000)
		GOTO SHOW_LOOP1
	ENDIF

;素質設定
ELSEIF MODE == 1
	IF RESULT == 901
		PAGE --
	ELSEIF RESULT == 902
		PAGE ++
	ELSEIF RESULT == 300
		TALENT:(ARG:0):300 ++
		IF TALENT:(ARG:0):300 >= 10
			TALENT:(ARG:0):300 = 0
		ENDIF
	ELSEIF RESULT == 310
		HAIR_HSV:0 = RAND:360
		HAIR_HSV:1 = RAND:93
		HAIR_HSV:2 = RAND:68 + 30
		TALENT:(ARG:0):302 = HSV_TO_RGB(HAIR_HSV:0, HAIR_HSV:1, HAIR_HSV:2)
;	ELSEIF RESULT == 318 && INI_TALENT:(ARG:0):302 != 0
;		TALENT:(ARG:0):302 = INI_TALENT:(ARG:0):302
;		VARSET HAIR_HSV, 0
	ELSEIF RESULT == 319 && TALENT:(ARG:0):302 != 0
		TALENT:(ARG:0):302 = 0
		VARSET HAIR_HSV, 0
	ELSEIF RESULT == 311 && TALENT:(ARG:0):302 != 0
		HAIR_HSV:0 += 10
		IF HAIR_HSV:0 >= 360
			HAIR_HSV:0 -= 360
		ENDIF
		TALENT:(ARG:0):302 = HSV_TO_RGB(HAIR_HSV:0, HAIR_HSV:1, HAIR_HSV:2)
	ELSEIF RESULT == 312 && TALENT:(ARG:0):302 != 0
		HAIR_HSV:0 -= 10
		IF HAIR_HSV:0 < 0
			HAIR_HSV:0 += 360
		ENDIF
		TALENT:(ARG:0):302 = HSV_TO_RGB(HAIR_HSV:0, HAIR_HSV:1, HAIR_HSV:2)
	ELSEIF RESULT == 313 && TALENT:(ARG:0):302 != 0
		HAIR_HSV:1 = LIMIT(HAIR_HSV:1 + 5, 0, 95)
		TALENT:(ARG:0):302 = HSV_TO_RGB(HAIR_HSV:0, HAIR_HSV:1, HAIR_HSV:2)
	ELSEIF RESULT == 314 && TALENT:(ARG:0):302 != 0
		HAIR_HSV:1 = LIMIT(HAIR_HSV:1 - 5, 0, 95)
		TALENT:(ARG:0):302 = HSV_TO_RGB(HAIR_HSV:0, HAIR_HSV:1, HAIR_HSV:2)
	ELSEIF RESULT == 315 && TALENT:(ARG:0):302 != 0
		HAIR_HSV:2 = LIMIT(HAIR_HSV:2 + 5, 30, 100)
		TALENT:(ARG:0):302 = HSV_TO_RGB(HAIR_HSV:0, HAIR_HSV:1, HAIR_HSV:2)
	ELSEIF RESULT == 316 && TALENT:(ARG:0):302 != 0
		HAIR_HSV:2 = LIMIT(HAIR_HSV:2 - 5, 30, 100)
		TALENT:(ARG:0):302 = HSV_TO_RGB(HAIR_HSV:0, HAIR_HSV:1, HAIR_HSV:2)
	ELSEIF RESULT == 320
		TALENT:(ARG:0):303 = RAND:990 + 10
	ELSEIF RESULT == 321
		CALL SINGLE_DRAWLINE
		PRINTL 髪の長さを数値で入力して下さい
		PRINTL ------長さの表記------
		PRINTL   2～ 24 スキンヘッド
		PRINTL  25～174 超ショート
		PRINTL 175～274 ショート
		PRINTL 275～474 ミドル
		PRINTL 475～674 ロング
		PRINTL 675～999 超ロング
		INPUT
		TALENT:(ARG:0):303 = LIMIT(RESULT, 2, 999)
		GOTO SHOW_LOOP1
	ELSEIF RESULT >= 3 && RESULT < 300 && TALENTNAME:RESULT != ""
		IF !GROUPMATCH(TALENTNAME:RESULT, "キス未経験", "アナル処女", "絶壁", "貧乳", "巨乳", "爆乳", "短小", "超短小", "巨根", "超巨根")
			IF RESULT < 150 || RESULT > 179 || GROUPMATCH(TALENTNAME:RESULT, "合意", "母性")
				IF RESULT < 295 || RESULT > 299
					TALENT:(ARG:0):RESULT = !TALENT:(ARG:0):RESULT
				ENDIF
			ENDIF
		ENDIF
	ENDIF
;陥落素質設定
ELSEIF MODE == 3
	IF RESULT == 901
		PAGE --
	ELSEIF RESULT == 902
		PAGE ++
	ELSEIF RESULT >= 0 && RESULT < VARSIZE("SEX_TALENT_NAME") && SEX_TALENT_NAME:RESULT != ""
		INVERTBIT TALENT:(ARG:0):GETNUM(TALENT, "淫乱系"), RESULT
	ENDIF
;デイリー素質設定
ELSEIF MODE == 4
	IF RESULT == 901
		PAGE --
	ELSEIF RESULT == 902
		PAGE ++
	ELSEIF RESULT >= 0 && RESULT < VARSIZE("DAILY_TALENT_NAME") && DAILY_TALENT_NAME:RESULT != ""
		INVERTBIT TALENT:(ARG:0):GETNUM(TALENT, "デイリー系"), RESULT
	ENDIF
;特殊素質設定
ELSEIF MODE == 5
	IF RESULT == 901
		PAGE --
	ELSEIF RESULT == 902
		PAGE ++
	ELSEIF RESULT >= 0 && RESULT < 64 && SP_FALLEN_TALENT_NAME:RESULT != ""
		INVERTBIT TALENT:(ARG:0):GETNUM(TALENT, "特殊勢力陥落系"), RESULT
	ENDIF
;経験設定
ELSEIF MODE == 6
	IF RESULT >= 40 && RESULT < 70 && EXPNAME:(RESULT) != ""
		LOCAL:0 = RESULT
		PRINTFORML %EXPNAME:(LOCAL:0)% の値を入力して下さい
		INPUT
		EXP:(ARG:0):(LOCAL:0) = MAX(RESULT, 0)
		GOTO SHOW_LOOP1
	ELSEIF RESULT == 80
		CALL VIRGINIZE(ARG:0, 初体験_童貞)
	ELSEIF RESULT == 81
		TALENT:(ARG:0):童貞 = 0
		SEXUAL_EXPERIENCE:(ARG:0):初体験_童貞 = 不明
		SEXUAL_LAST_EXPERIENCE:(ARG:0):初体験_童貞 = 不明
	ELSEIF RESULT == 82
		TALENT:(ARG:0):童貞 = 2
		SEXUAL_EXPERIENCE:(ARG:0):初体験_童貞 = 不明
		SEXUAL_LAST_EXPERIENCE:(ARG:0):初体験_童貞 = 不明
	ELSEIF RESULT == 90
		CALL VIRGINIZE(ARG:0, 初体験_処女)
	ELSEIF RESULT == 91
		TALENT:(ARG:0):処女 = 0
		SEXUAL_EXPERIENCE:(ARG:0):初体験_処女 = 不明
		SEXUAL_LAST_EXPERIENCE:(ARG:0):初体験_処女 = 不明
	ELSEIF RESULT == 92
		TALENT:(ARG:0):処女 = 2
		SEXUAL_EXPERIENCE:(ARG:0):初体験_処女 = 不明
		SEXUAL_LAST_EXPERIENCE:(ARG:0):初体験_処女 = 不明
	ELSEIF RESULT == 100
		TALENT:(ARG:0):アナル処女 = 1
		CALL VIRGINIZE(LOCAL:0, 初体験_アナル処女)
	ELSEIF RESULT == 101
		TALENT:(ARG:0):アナル処女 = 0
		SEXUAL_EXPERIENCE:(ARG:0):初体験_アナル処女 = 不明
		SEXUAL_LAST_EXPERIENCE:(ARG:0):初体験_アナル処女 = 不明
	ELSEIF RESULT == 102
		TALENT:(ARG:0):アナル処女 = 2
		SEXUAL_EXPERIENCE:(ARG:0):初体験_アナル処女 = 不明
		SEXUAL_LAST_EXPERIENCE:(ARG:0):初体験_アナル処女 = 不明
	ELSEIF RESULT == 110
		CALL VIRGINIZE(ARG:0, 初体験_キス)
	ELSEIF RESULT == 120
		PRINTL 全てのコマンドの実行回数を100にします
		PRINTL 既に100を超えているものについては現在の値が維持されます
		PRINTL 主に性癖設定での好みLvを自由に変更するために使います
		CALL ASK_YN("実行", "キャンセル")
		IF RESULT == 0
			FOR LOCAL:0, 0, VARSIZE("COM_EXP")
				COM_EXP:(ARG:0):(LOCAL:0) = MAX(COM_EXP:(ARG:0):(LOCAL:0), 1000)
			NEXT
		ENDIF
	ELSEIF RESULT == 130
		PRINTL 陰毛について数値で入力して下さい
		PRINTL -1 パイパン（生えません。永久脱毛状態です）
		PRINTL 0  つるつる（剃ったorまだ生えていないパイパンです）
		PRINTL 1  うっすら
		PRINTL 2  柔毛
		PRINTL 3  ふんわり
		PRINTL 4  標準
		PRINTL 5  多め
		PRINTL 6  ふさふさ
		PRINTL 7  もっさり
		PRINTL 8  剛毛
		PRINTL 9  尻毛も生えるくらい
		PRINTL 10 ハート型に整える
		$INPUT_INMOU_LOOP
		INPUT
		IF -1 <= RESULT && RESULT <= 10
			TALENT:(ARG:0):陰毛現在値 = RESULT
			TALENT:(ARG:0):陰毛目標値 = RESULT
		ELSE
			GOTO INPUT_INMOU_LOOP
		ENDIF
	ELSEIF RESULT == 140
		;締まり
		PRINTL 膣の締まり具合について数値で入力して下さい
		PRINTL 0 崩壊
		PRINTL 1 がばがば
		PRINTL 2 ぽっかり
		PRINTL 3 ゆるゆる
		PRINTL 4 ゆるめ
		PRINTL 5 ふつう
		PRINTL 6 名器
		PRINTL 7 きゅっきゅっ
		PRINTL 8 きつきつ
		PRINTL 9 ぎちぎち
		$INPUT_LOOP_TIGHTNESS_V
		INPUT
		IF 0 <= RESULT && RESULT <= 9
			TALENT:(ARG:0):Ｖ締まり = RESULT * 100 + 50
		ELSE
			GOTO INPUT_LOOP_TIGHTNESS_V
		ENDIF
	ELSEIF RESULT == 141
		;締まり
		PRINTL アナルの締まり具合について数値で入力して下さい
		PRINTL 0 崩壊
		PRINTL 1 がばがば
		PRINTL 2 ぽっかり
		PRINTL 3 ゆるゆる
		PRINTL 4 ゆるめ
		PRINTL 5 ふつう
		PRINTL 6 名器
		PRINTL 7 きゅっきゅっ
		PRINTL 8 きつきつ
		PRINTL 9 ぎちぎち
		$INPUT_LOOP_TIGHTNESS_A
		INPUT
		IF 0 <= RESULT && RESULT <= 9
			TALENT:(ARG:0):Ａ締まり = RESULT * 100 + 50
		ELSE
			GOTO INPUT_LOOP_TIGHTNESS_A
		ENDIF
	ELSEIF RESULT == 150
		;ピアス
		$SHOW_LOOP_PIERCE
		FOR LOCAL, 0, ピアス_最大ビット + 1
			IF IS_PIERCED(ARG:0, LOCAL)
				PRINTFORML [{LOCAL:0, 3}] %GET_PIERCE_NAME(LOCAL:0)%のピアスを外す
			ELSEIF IS_HOLED(ARG:0, LOCAL) && CAN_PIERCE(ARG:0, LOCAL)
				PRINTFORML [{LOCAL:0, 3}] %GET_PIERCE_NAME(LOCAL:0)%にピアスをつける
			ENDIF
			IF IS_HOLED(ARG:0, LOCAL)
				PRINTFORML [{LOCAL:0 + 100, 3}] %GET_PIERCE_NAME(LOCAL:0)%のピアス穴を塞ぐ
			ENDIF
			SIF CAN_PIERCE(ARG:0, LOCAL)
				PRINTFORML [{LOCAL:0, 3}] %GET_PIERCE_NAME(LOCAL:0)%にピアス穴を開け、ピアスをつける
		NEXT
		PRINTFORML [99] 戻る
		$INPUT_LOOP_PIERCE
		INPUT
		IF RESULT == 99
		ELSEIF RESULT < 100 && IS_PIERCED(ARG:0, RESULT)
			CALL REMOVE_PIERCE(ARG:0, RESULT)
			GOTO SHOW_LOOP_PIERCE
		ELSEIF RESULT < 100 && CAN_PIERCE(ARG:0, RESULT)
			CALL SET_PIERCE(ARG:0, RESULT)
			GOTO SHOW_LOOP_PIERCE
		ELSEIF IS_HOLED(ARG:0, RESULT - 100)
			LOCAL = RESULT - 100
			PRINTFORML %ANAME(ARG:0)%の%GET_PIERCE_NAME(LOCAL)%のピアス穴を塞いだ
			CALL CLEAR_PIERCE_HOLE(ARG:0, LOCAL)
			GOTO SHOW_LOOP_PIERCE
		ELSE
			GOTO INPUT_LOOP_PIERCE
		ENDIF
	ELSEIF RESULT == 151
		;タトゥー
		$SHOW_LOOP_TATOO
		FOR LOCAL, 0, VARSIZE("TATOO")
			IF IS_TATOOED(ARG:0, LOCAL:0)
				PRINTBUTTON @"[{LOCAL:0}] %GET_TATOO_NAME(LOCAL:0)% : %TATOO:(ARG:0):(LOCAL:0)%", LOCAL:0
				PRINTL
			ELSE
				PRINTBUTTON @"[{LOCAL:0}] %GET_TATOO_NAME(LOCAL:0), 8, LEFT%", LOCAL:0
				PRINTBUTTON @"[{LOCAL:0 + 100}] %GET_TATOO_NAME(LOCAL:0) + "(ランダム)", 20, LEFT%", LOCAL:0 + 100
				PRINTL
			ENDIF
		NEXT
		PRINTFORML [99] 戻る
		$INPUT_LOOP_TATOO
		INPUT
		LOCAL:1 = RESULT
		IF LOCAL:1 == 99
			PRINTFORML やはりやめておいた
		ELSEIF 0 <= LOCAL:1 && LOCAL:1 < VARSIZE("TATOO") && CAN_TATOO(ARG:0, LOCAL:1)
			PRINTFORML 何と彫り入れますか？(未入力でキャンセル)
			INPUTS
			CALL SET_TATOO(ARG:0, LOCAL:1, RESULTS:0)
			GOTO SHOW_LOOP_TATOO
		ELSEIF 0 <= LOCAL:1 && LOCAL:1 < VARSIZE("TATOO")
			PRINTFORML %ANAME(ARG:0)%の%GET_TATOO_NAME(RESULT:0)%のタトゥーを消去しました
			TATOO:(ARG:0):RESULT = 
			GOTO SHOW_LOOP_TATOO
		ELSEIF 100 <= LOCAL:1 && LOCAL:1 < VARSIZE("TATOO") + 100 && CAN_TATOO(ARG:0, LOCAL:1 - 100)
			$RANDOM_LOOP_TATOO
			LOCALS:0 = %STR_FOR_TATOO(LOCAL:1 - 100)%
			PRINTFORML 「%LOCALS:0%」を彫り入れるのはどうだろう……
			CALL ASK_MULTI("彫る", "別ので", "やめる")
			IF RESULT == 0
				CALL SET_TATOO(ARG:0, LOCAL:1 - 100, LOCALS:0)
			ELSEIF RESULT == 1
				GOTO RANDOM_LOOP_TATOO
			ELSEIF RESULT == 2
				GOTO SHOW_LOOP_TATOO
			ENDIF
		ELSE
			GOTO INPUT_LOOP_TATOO
		ENDIF
	ENDIF
;その他
ELSE
	IF RESULT >= 10 && RESULT <= 15
		IF RESULT == 10
			TALENT:(ARG:0):性別 = RESULT - 10
		ELSEIF !IS_ANIMAL(ARG:0)
			TALENT:(ARG:0):性別 = RESULT - 10
		ENDIF
		;ピアス穴を塞ぐ
		CALL CLEAR_PIERCE_HOLE_SEX_CHANGE(ARG:0)
	ELSEIF RESULT >= 20 && RESULT <= 24
		TALENT:(ARG:0):絶壁 = 0
		TALENT:(ARG:0):貧乳 = 0
		TALENT:(ARG:0):巨乳 = 0
		TALENT:(ARG:0):爆乳 = 0
		SELECTCASE RESULT - 20
			CASE 0
				TALENT:(ARG:0):絶壁 = 1
			CASE 1
				TALENT:(ARG:0):貧乳 = 1
			CASE 3
				TALENT:(ARG:0):巨乳 = 1
			CASE 4
				TALENT:(ARG:0):爆乳 = 1
		ENDSELECT
	ELSEIF RESULT >= 25 && RESULT <= 29
		TALENT:(ARG:0):超短小 = 0
		TALENT:(ARG:0):短小 = 0
		TALENT:(ARG:0):巨根 = 0
		TALENT:(ARG:0):超巨根 = 0
		SELECTCASE RESULT - 25
			CASE 0
				TALENT:(ARG:0):超短小 = 1
			CASE 1
				TALENT:(ARG:0):短小 = 1
			CASE 3
				TALENT:(ARG:0):巨根 = 1
			CASE 4
				TALENT:(ARG:0):超巨根 = 1
		ENDSELECT
	ELSEIF RESULT == 30
		CFLAG:(ARG:0):面識 = 0
	ELSEIF RESULT == 31
		CFLAG:(ARG:0):面識 = 1
	ELSEIF RESULT == 50
		IF F_COUNTRY_BOSS
			CFLAG:(ARG:0):特殊状態 = 0
		ELSE
			
			IF CFLAG:(ARG:0):所属 == 0 && CFLAG:(ARG:0):特殊状態 == 0 && !CFLAG:(ARG:0):捕虜先
				CFLAG:(ARG:0):特殊状態 = 特殊状態_放浪
			ELSEIF CFLAG:(ARG:0):所属 == 0 && CFLAG:(ARG:0):特殊状態 == 特殊状態_放浪
				CFLAG:(ARG:0):特殊状態 = 特殊状態_死亡
			ELSE
				CFLAG:(ARG:0):特殊状態 = 0
				FOR LOCAL:0, CFLAG:(ARG:0):所属 + 1, MAX_COUNTRY
					IF IS_COUNTRY(LOCAL:0)
						CALL CHANGE_COUNTRY(ARG:0, LOCAL:0)
						LOCAL:1 = 0
						BREAK
					ENDIF
				NEXT
				IF LOCAL:0 == MAX_COUNTRY
					CALL CHANGE_COUNTRY(ARG:0, 0)
					CFLAG:(ARG:0):特殊状態 == 0
				ENDIF
			ENDIF
		ENDIF
	ELSEIF RESULT == 51
		LOCAL:1 = 0
		IF !F_COUNTRY_BOSS
			CALL SINGLE_DRAWLINE
			LOCAL:1 ++
			PRINTFORML [0] 無所属
			LOCAL:1 ++
			FOR LOCAL, 0, MAX_COUNTRY
				SIF !IS_COUNTRY(LOCAL)
					CONTINUE
				PRINTFORML [{LOCAL}] %ANAME(GET_COUNTRY_BOSS(LOCAL))%
				LOCAL:1 ++
			NEXT
			INPUT
			LOCAL:1 ++
			IF RESULT == 0 || IS_COUNTRY(RESULT)
				CALL CHANGE_COUNTRY(ARG:0, RESULT)
				SIF RESULT == 0
					CFLAG:(ARG:0):特殊状態 == 0
			ENDIF
		ENDIF
		CLEARLINE LOCAL:1
	ELSEIF RESULT == 60
		LOCAL:1 = 1
		IF !F_COUNTRY_BOSS
			FOR LOCAL:0, CFLAG:(ARG:0):捕虜先 + 1, MAX_COUNTRY
				IF IS_COUNTRY(LOCAL:0)
					CALL CAPTURE(ARG:0, LOCAL:0)
					BREAK
				ENDIF
			NEXT
		ENDIF
		SIF LOCAL:0 == MAX_COUNTRY
			CALL CAPTURE(ARG:0, 0)
	ELSEIF RESULT == 61
		LOCAL:1 = 0
		IF !F_COUNTRY_BOSS
			CALL SINGLE_DRAWLINE
			LOCAL:1 ++
			PRINTFORML [0] 捕虜でない
			LOCAL:1 ++
			FOR LOCAL, 0, MAX_COUNTRY
				SIF !IS_COUNTRY(LOCAL)
					CONTINUE
				PRINTFORML [{LOCAL}] %ANAME(GET_COUNTRY_BOSS(LOCAL))%
				LOCAL:1 ++
			NEXT
			INPUT
			LOCAL:1 ++
			SIF RESULT == 0 || IS_COUNTRY(RESULT)
				CALL CAPTURE(ARG:0, RESULT)
		ENDIF
		CLEARLINE LOCAL:1
	ELSEIF RESULT == 62 && CFLAG:(ARG:0):捕虜先 >= 1
		CFLAG:(ARG:0):監禁状態 = 0
	ELSEIF RESULT == 63 && CFLAG:(ARG:0):捕虜先 >= 1
		CFLAG:(ARG:0):監禁状態 = 1
	ELSEIF RESULT == 70
		PRINTL 好感度の値を入力して下さい(-1000～999999999999)
		INPUT
		CFLAG:(ARG:0):2 = LIMIT(RESULT, -1000, 999999999999)
		GOTO SHOW_LOOP1
	ELSEIF RESULT == 71
		PRINTL 依存度の値を入力して下さい(-1000～999999999999)
		INPUT
		CFLAG:(ARG:0):3 = LIMIT(RESULT, -1000, 999999999999)
		GOTO SHOW_LOOP1
	ELSEIF RESULT == 72
		PRINTL 従属度の値を入力して下さい(-1000～999999999999)
		INPUT
		CFLAG:(ARG:0):4 = LIMIT(RESULT, -1000, 999999999999)
		GOTO SHOW_LOOP1
	ELSEIF RESULT == 100 && ARG:0 != MASTER
		IF TALENT:(ARG:0):恋人
			TALENT:(ARG:0):恋人 = 0
		ELSE
			TALENT:(ARG:0):恋人 = 1
			TALENT:(ARG:0):烙印 = 0
		ENDIF
	ELSEIF RESULT == 101 && ARG:0 != MASTER
		IF TALENT:(ARG:0):恋慕
			TALENT:(ARG:0):恋慕 = 0
			TALENT:(ARG:0):親愛 = 0
		ELSE
			TALENT:(ARG:0):恋慕 = 1
			TALENT:(ARG:0):服従 = 0
			TALENT:(ARG:0):隷属 = 0
			TALENT:(ARG:0):親友 = 0
			CFLAG:(ARG:0):2 = MAX(CFLAG:(ARG:0):2, 1500)
			CFLAG:(ARG:0):3 = MAX(CFLAG:(ARG:0):3, 300)
		ENDIF
	ELSEIF RESULT == 102 && ARG:0 != MASTER
		IF TALENT:(ARG:0):親愛
			TALENT:(ARG:0):親愛 = 0
		ELSE
			TALENT:(ARG:0):恋慕 = 1
			TALENT:(ARG:0):親愛 = 1
			TALENT:(ARG:0):服従 = 0
			TALENT:(ARG:0):隷属 = 0
			TALENT:(ARG:0):親友 = 0
			CFLAG:(ARG:0):2 = MAX(CFLAG:(ARG:0):2, 10000)
			CFLAG:(ARG:0):3 = MAX(CFLAG:(ARG:0):3, 3000)
		ENDIF
	ELSEIF RESULT == 103 && ARG:0 != MASTER
		IF TALENT:(ARG:0):親友
			TALENT:(ARG:0):親友 = 0
		ELSEIF IS_SAMESEX(MASTER, ARG:0) && !TALENT:(ARG:0):両刀
			TALENT:(ARG:0):恋慕 = 0
			TALENT:(ARG:0):親友 = 1
			TALENT:(ARG:0):服従 = 0
			TALENT:(ARG:0):隷属 = 0
			CFLAG:(ARG:0):2 = MAX(CFLAG:(ARG:0):2, 1500)
			CFLAG:(ARG:0):3 = MAX(CFLAG:(ARG:0):3, 300)
		ENDIF
	ELSEIF RESULT == 110 && ARG:0 != MASTER
		IF TALENT:(ARG:0):烙印
			TALENT:(ARG:0):烙印 = 0
		ELSEIF !IS_SAMESEX(MASTER, ARG:0) || TALENT:(ARG:0):両刀 || TALENT:(ARG:0):恋人
			TALENT:(ARG:0):烙印 = 1
			TALENT:(ARG:0):恋人 = 0
		ENDIF
	ELSEIF RESULT == 111 && ARG:0 != MASTER
		IF TALENT:(ARG:0):服従
			TALENT:(ARG:0):服従 = 0
			TALENT:(ARG:0):隷属 = 0
		ELSE
			TALENT:(ARG:0):服従 = 1
			TALENT:(ARG:0):恋慕 = 0
			TALENT:(ARG:0):親愛 = 0
			TALENT:(ARG:0):親友 = 0
			CFLAG:(ARG:0):4 = MAX(CFLAG:(ARG:0):4, 1500)
			CFLAG:(ARG:0):3 = MAX(CFLAG:(ARG:0):3, 300)
		ENDIF
	ELSEIF RESULT == 112 && ARG:0 != MASTER
		IF TALENT:(ARG:0):隷属
			TALENT:(ARG:0):隷属 = 0
		ELSE
			TALENT:(ARG:0):服従 = 1
			TALENT:(ARG:0):隷属 = 1
			TALENT:(ARG:0):恋慕 = 0
			TALENT:(ARG:0):親愛 = 0
			TALENT:(ARG:0):親友 = 0
			CFLAG:(ARG:0):4 = MAX(CFLAG:(ARG:0):4, 10000)
			CFLAG:(ARG:0):3 = MAX(CFLAG:(ARG:0):3, 3000)
		ENDIF
	ELSEIF RESULT == 120 && ARG:0 != MASTER
		IF TALENT:(ARG:0):虚ろ
			TALENT:(ARG:0):虚ろ = 0
			TALENT:(ARG:0):崩壊 = 0
			CFLAG:(ARG:0):崩壊 = 0
			BASE:(ARG:0):精神力 = MAXBASE:(ARG:0):精神力
		ELSE
			TALENT:(ARG:0):虚ろ = 1
			CFLAG:(ARG:0):崩壊 = 1000 + MAX(MAXBASE:(ARG:0):精神力, 1000)
		ENDIF
	ELSEIF RESULT == 121 && ARG:0 != MASTER
		IF TALENT:(ARG:0):崩壊
			TALENT:(ARG:0):崩壊 = 0
			CFLAG:(ARG:0):崩壊 = 1000 + MAX(MAXBASE:(ARG:0):精神力, 1000)
		ELSE
			TALENT:(ARG:0):虚ろ = 1
			TALENT:(ARG:0):崩壊 = 1
			CFLAG:(ARG:0):崩壊 = 3500 + MAX(MAXBASE:(ARG:0):精神力, 1000)
		ENDIF
	ELSEIF RESULT == 130
		TALENT:(ARG:0):合意 = !TALENT:(ARG:0):合意
	ENDIF
ENDIF
CLEARLINE LINECOUNT - FIRST_LINE
GOTO SHOW_LOOP1

;-------------------------------------------------
;名前の変更処理
;-------------------------------------------------
@CONFIG_NAME_CHANGE(ARG:0)
#DIMS SAVE_NAME, 20
#DIM FIRST_LINE
FOR LOCAL:0, 0, 8
	SAVE_NAME:(LOCAL:0) = %CSTR:(ARG:0):(LOCAL:0)%
NEXT
SAVE_NAME:8 = %NAME:(ARG:0)%
SAVE_NAME:9 = %CALLNAME:(ARG:0)%

$SHOW_LOOP1

CALL SINGLE_DRAWLINE
PRINTL 名前の変更
CALL SINGLE_DRAWLINE
FIRST_LINE = LINECOUNT
$SHOW_LOOP2

PRINTFORM   基本名  %NAME:(ARG:0), 12, LEFT%
PRINTBUTTON " 100[入力]", 100
PRINTBUTTON " 101[消去]", 101
PRINTBUTTON " 102[姓名から設定]", 102
PRINTL 
PRINTFORM   (読み)  %CSTR:(ARG:0):3, 12, LEFT%
PRINTBUTTON " 110[入力]", 110
PRINTBUTTON " 111[消去]", 111
PRINTL 
PRINTL 

PRINTFORM   姓      %CSTR:(ARG:0):0, 12, LEFT%
PRINTBUTTON " 120[入力]", 120
PRINTBUTTON " 121[消去]", 121
PRINTBUTTON " 122[ランダム(漢字)]", 122
PRINTBUTTON " 123[ランダム(カナ)]", 123
PRINTBUTTON " 124[ランダム(日本名)]", 124
PRINTL 
PRINTFORM   (読み)  %CSTR:(ARG:0):5, 12, LEFT%
PRINTBUTTON " 130[入力]", 130
PRINTBUTTON " 131[消去]", 131
PRINTL 
PRINTL 

PRINTFORM   名      %CSTR:(ARG:0):1, 12, LEFT%
PRINTBUTTON " 140[入力]", 140
PRINTBUTTON " 141[消去]", 141
PRINTBUTTON " 142[ランダム(漢字)]", 142
PRINTBUTTON " 143[ランダム(カナ)]", 143
PRINTBUTTON " 144[ランダム(日本名)]", 144
PRINTL 
PRINTFORM   (読み)  %CSTR:(ARG:0):6, 12, LEFT%
PRINTBUTTON " 150[入力]", 150
PRINTBUTTON " 151[消去]", 151
PRINTL 
PRINTL 

PRINTFORM   字      %CSTR:(ARG:0):2, 12, LEFT%
PRINTBUTTON " 160[入力]", 160
PRINTBUTTON " 161[消去]", 161
PRINTBUTTON " 162[ランダム(漢字)]", 162
PRINTL 
PRINTFORM   (読み)  %CSTR:(ARG:0):7, 12, LEFT%
PRINTBUTTON " 170[入力]", 170
PRINTBUTTON " 171[消去]", 171
PRINTL 
PRINTL 

PRINTFORM   呼び名  %CALLNAME:(ARG:0), 12, LEFT%
PRINTBUTTON " 180[入力]", 180
PRINTBUTTON " 181[消去]", 181
PRINTBUTTON " 182[ランダム(漢字)]", 182
PRINTL 
PRINTFORM   (読み)  %CSTR:(ARG:0):4, 12, LEFT%
PRINTBUTTON " 190[入力]", 190
PRINTBUTTON " 191[消去]", 191
PRINTL

PRINTL
PRINTFORM   愛称    %CSTR:(ARG:0):98, 12, LEFT%
PRINTBUTTON " 200[入力]", 200
PRINTBUTTON " 201[消去]", 201
PRINTL 

CALL SINGLE_DRAWLINE
PRINT  
PRINTBUTTON " 999[決定]", 999
PRINTPLAIN            
PRINTBUTTON " 800[キャンセル]", 800
PRINTL 

REDRAW 0

$INPUT_LOOP
INPUT

IF RESULT == 999
	REDRAW 1
	RETURN
ELSEIF RESULT == 800
	FOR LOCAL:0, 0, 8
		CSTR:(ARG:0):(LOCAL:0) = %SAVE_NAME:(LOCAL:0)%
	NEXT
	NAME:(ARG:0) = %SAVE_NAME:8%
	CALLNAME:(ARG:0) = %SAVE_NAME:9%
	REDRAW 1
	RETURN
ELSEIF RESULT == 100
	REDRAW 1
	INPUTS
	NAME:(ARG:0) = %RESULTS%
	GOTO SHOW_LOOP1
ELSEIF RESULT == 101
	NAME:(ARG:0) = 
ELSEIF RESULT == 102
	NAME:(ARG:0) = %CSTR:(ARG:0):0%%CSTR:(ARG:0):1%
	CSTR:(ARG:0):3 = %CSTR:(ARG:0):5%%CSTR:(ARG:0):6%
ELSEIF RESULT == 110
	REDRAW 1
	INPUTS
	CSTR:(ARG:0):3 = %RESULTS%
	GOTO SHOW_LOOP1
ELSEIF RESULT == 111
	CSTR:(ARG:0):3 = 
ELSEIF RESULT == 120
	REDRAW 1
	INPUTS
	CSTR:(ARG:0):0 = %RESULTS%
	GOTO SHOW_LOOP1
ELSEIF RESULT == 121
	CSTR:(ARG:0):0 = 
ELSEIF RESULT == 122
	CALL GENERATE_FAMILY_NAME
	CSTR:(ARG:0):0 = %RESULTS:0%
	CSTR:(ARG:0):5 = %RESULTS:1%
ELSEIF RESULT == 123
	CALL GENERATE_FAMILY_NAME_K
	CSTR:(ARG:0):0 = %RESULTS:0%
	CSTR:(ARG:0):5 = 
ELSEIF RESULT == 124
	CALL GENERATE_FAMILY_NAME_J
	CSTR:(ARG:0):0 = %RESULTS:0%
	CSTR:(ARG:0):5 = %RESULTS:1%
ELSEIF RESULT == 130
	REDRAW 1
	INPUTS
	CSTR:(ARG:0):5 = %RESULTS%
	GOTO SHOW_LOOP1
ELSEIF RESULT == 131
	CSTR:(ARG:0):5 = 
ELSEIF RESULT == 140
	REDRAW 1
	INPUTS
	CSTR:(ARG:0):1 = %RESULTS%
	GOTO SHOW_LOOP1
ELSEIF RESULT == 141
	CSTR:(ARG:0):1 = 
ELSEIF RESULT == 142
	CALL GENERATE_FIRST_NAME
	CSTR:(ARG:0):1 = %RESULTS:0%
	CSTR:(ARG:0):6 = %RESULTS:1%
ELSEIF RESULT == 143
	IF IS_MALE(ARG:0)
		CALL GENERATE_FIRST_NAME_KM
	ELSE
		CALL GENERATE_FIRST_NAME_KF
	ENDIF
	CSTR:(ARG:0):1 = %RESULTS:0%
	CSTR:(ARG:0):6 = 
ELSEIF RESULT == 144
	IF IS_MALE(ARG:0)
		CALL GENERATE_FIRST_NAME_JM
	ELSE
		CALL GENERATE_FIRST_NAME_JF
	ENDIF
	CSTR:(ARG:0):1 = %RESULTS:0%
	CSTR:(ARG:0):6 = %RESULTS:1%
ELSEIF RESULT == 150
	REDRAW 1
	INPUTS
	CSTR:(ARG:0):6 = %RESULTS%
	GOTO SHOW_LOOP1
ELSEIF RESULT == 151
	CSTR:(ARG:0):6 = 
ELSEIF RESULT == 160
	REDRAW 1
	INPUTS
	CSTR:(ARG:0):2 = %RESULTS%
	GOTO SHOW_LOOP1
ELSEIF RESULT == 161
	CSTR:(ARG:0):2 = 
ELSEIF RESULT == 162
	CALL GENERATE_MIDDLE_NAME
	CSTR:(ARG:0):2 = %RESULTS:0%
	CSTR:(ARG:0):7 = %RESULTS:1%
ELSEIF RESULT == 170
	REDRAW 1
	INPUTS
	CSTR:(ARG:0):7 = %RESULTS%
	GOTO SHOW_LOOP1
ELSEIF RESULT == 171
	CSTR:(ARG:0):7 = 
ELSEIF RESULT == 180
	REDRAW 1
	INPUTS
	CALLNAME:(ARG:0) = %RESULTS%
	GOTO SHOW_LOOP1
ELSEIF RESULT == 181
	CALLNAME:(ARG:0) = 
ELSEIF RESULT == 182
	IF IS_MALE(ARG:0)
		CALL GENERATE_TRUE_NAME_M
	ELSE
		CALL GENERATE_TRUE_NAME_F
	ENDIF
	CALLNAME:(ARG:0) = %RESULTS:0%
	CSTR:(ARG:0):4 = %RESULTS:1%
ELSEIF RESULT == 190
	REDRAW 1
	INPUTS
	CSTR:(ARG:0):4 = %RESULTS%
	GOTO SHOW_LOOP1
ELSEIF RESULT == 191
	CSTR:(ARG:0):4 = 
ELSEIF RESULT == 200
	REDRAW 1
	INPUTS
	CSTR:(ARG:0):98 = %RESULTS:0%
ELSEIF RESULT == 201
	CSTR:(ARG:0):98 = 
ELSE
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF
CLEARLINE LINECOUNT - FIRST_LINE
GOTO SHOW_LOOP2



;データ個別操作用のSHOW_INFO
@CONFIG_DATA_EDIT_SHOW_INFO(ARG:0)



;-------------------------
;士官を募る
;-------------------------
@CONFIG_DATA_EDIT_RECRUIT_RANDOM_CHARA
#DIM hold = -1
#DIM showingHold = 0
#DIM FIRST_LINE
LOCAL:10 = 0
LOCAL:11 = 0
hold = -1
showingHold = 0

CALL SINGLE_DRAWLINE
PRINTL 新たな士官を募集します
PRINTL 求める人材を設定して下さい
CALL SINGLE_DRAWLINE
PRINTL ～募集要項～

FIRST_LINE = LINECOUNT
$SHOW_LOOP

PRINTL ◆求める人材は
PRINT    
CALL PRINT_SELECT_BUTTON(" 10{多    能}", 10, LOCAL:10 == 0)
CALL PRINT_SELECT_BUTTON(" 11{武    官}", 11, LOCAL:10 == 1)
CALL PRINT_SELECT_BUTTON(" 12{軍    師}", 12, LOCAL:10 == 2)
CALL PRINT_SELECT_BUTTON(" 13{政 務 官}", 13, LOCAL:10 == 3)
CALL PRINT_SELECT_BUTTON(" 14{アイドル}", 14, LOCAL:10 == 4)
CALL PRINT_SELECT_BUTTON(" 15{料 理 人}", 15, LOCAL:10 == 5)
PRINTL 
PRINTL 

PRINTL ◆性別は
PRINT    
CALL PRINT_SELECT_BUTTON(" 20{問わない}", 20, LOCAL:11 == 0)
CALL PRINT_SELECT_BUTTON(" 21{男    性}", 21, LOCAL:11 == 1)
CALL PRINT_SELECT_BUTTON(" 22{女    性}", 22, LOCAL:11 == 2)
CALL PRINT_SELECT_BUTTON(" 23{女    双}", 23, LOCAL:11 == 3)
CALL PRINT_SELECT_BUTTON(" 23{男    双}", 24, LOCAL:11 == 4)
CALL PRINT_SELECT_BUTTON(" 24{男 の 娘}", 25, LOCAL:11 == 5)
CALL PRINT_SELECT_BUTTON(" 24{男 娘 双}", 26, LOCAL:11 == 6)

PRINTL 
PRINTL
PRINTL ◆名前は
PRINT    
CALL PRINT_SELECT_BUTTON(" 30{和    名}", 30, LOCAL:13 == 0)
CALL PRINT_SELECT_BUTTON(" 31{洋    風}", 31, LOCAL:13 == 1)
CALL PRINT_SELECT_BUTTON(" 32{中    華}", 32, LOCAL:13 == 2)
PRINTL
CALL SINGLE_DRAWLINE
PRINTBUTTON "  0[この条件で募集]", 0
PRINTL 
PRINTBUTTON "  1[キャンセル]", 1
PRINTL 

REDRAW 0

$INPUT_LOOP
INPUT

IF RESULT == 1
	REDRAW 1
	RETURN 0
ELSEIF RESULT >= 10 && RESULT <= 15 && LOCAL:10 != RESULT - 10
	LOCAL:10 = RESULT - 10
	CLEARLINE LINECOUNT - FIRST_LINE
	GOTO SHOW_LOOP
ELSEIF RESULT >= 20 && RESULT <= 26 && LOCAL:11 != RESULT - 20
	LOCAL:11 = RESULT - 20
	CLEARLINE LINECOUNT - FIRST_LINE
	GOTO SHOW_LOOP
ELSEIF RESULT >= 30 && RESULT <= 32 && LOCAL:13 != RESULT - 30
	LOCAL:13 = RESULT - 30
	CLEARLINE LINECOUNT - FIRST_LINE
	GOTO SHOW_LOOP
ELSEIF RESULT != 0
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF

REDRAW 1

LOCAL:0 = GET_COMMANDER_NUM(CFLAG:MASTER:所属)

;君主が[動物耳]or[尻尾]を持つならケモ率高め
LOCAL:4 = GET_COUNTRY_BOSS(CFLAG:MASTER:所属)
IF LOCAL:4 >= 0 && (TALENT:(LOCAL:4):動物耳 || TALENT:(LOCAL:4):しっぽ)
	LOCAL:5 = 75
ELSE
	LOCAL:5 = 1
ENDIF

$INPUT_LOOP_NEWCHARA

;指定の条件でランダムキャラを作成
CALL CREATE_RANDOM_CHARA(LOCAL:5, LOCAL:10, LOCAL:11 - 1, LOCAL:13)
LOCAL:2 = RESULT

;士官の作成に失敗した場合
IF LOCAL:2 < 0
	PRINTW 残念ながら目ぼしい士官は見つかりませんでした…

;成功
ELSE
	CALL SINGLE_DRAWLINE
	PRINTFORML %ANAME(LOCAL:2)%が仕官を求めてきました

	$INPUT_LOOP_SELECT

	;SHOW_INFOの初期画面を基本情報にする
	FLAG:能力表示モード = 0

	;キャラの情報を表示
	CALL SINGLE_DRAWLINE
	CALL SHOW_INFO(LOCAL:2)
	CALL SINGLE_DRAWLINE

	PRINTBUTTON "0[このキャラを登用]", 0
	PRINT    
	PRINTBUTTON "1[別のキャラを探す]", 1
	PRINT    
	IF hold == -1
	ELSEIF showingHold
		PRINTBUTTON "2[進む]", 2
	ELSE
		PRINTBUTTON "2[戻る]", 2
	ENDIF
	
	PRINT    
	PRINTBUTTON "9[中止]", 9
	PRINTL 

	$INPUT_LOOP_TREAT
	INPUT

	IF RESULT == 0
		CALL CHANGE_COUNTRY(LOCAL:2, CFLAG:MASTER:所属)
		PRINTFORMW %ANAME(LOCAL:2)%が我が国の士官になりました
		IF hold != -1
			CALL DELETE_CHARA(hold)
		ENDIF
		RESTART
	ELSEIF RESULT == 1
		IF hold != -1
			;いらないキャラを削除
			CALL DELETE_CHARA(hold)
		ENDIF
		hold = CHARANUM - 1
		showingHold = 0
		GOTO INPUT_LOOP_NEWCHARA
	ELSEIF RESULT == 2
		IF showingHold
			showingHold = 0
		ELSE
			showingHold = 1
		ENDIF
			;スワップ
			LOCAL:21 = hold
			hold    = LOCAL:2
			LOCAL:2 = LOCAL:21
		GOTO INPUT_LOOP_SELECT
	ELSEIF RESULT == 9
		;PRINTW 今回は登用を見送ることにしました
		;作成したキャラを削除
		CALL DELETE_CHARA(CHARANUM - 1)
		IF hold != -1
			CALL DELETE_CHARA(CHARANUM - 1)
		ENDIF
	ELSE
		GOTO INPUT_LOOP_TREAT
	ENDIF
ENDIF

RETURN 0

@CONFIG_DATA_EDIT_RANDOM_DEAD
#DIM LOOP_C
#DIM 種別
#DIM 割合
#DIM 削除しない

PRINTFORML ある種別に属する全てのキャラクターを、乱数の結果次第で死亡させます
PRINTFORML （「MASTER」「君主」「捕虜」「妊娠中」「動物」は対象外）
PRINTFORML 固定キャラ以外の場合、キャラクターデータ自体を削除することも可能です
PRINTFORML

PRINTFORML キャラクターの種別は？
CALL ASK_MULTI("（キャンセル）", "全て", "固定キャラ", "ランダムキャラ（子供以外）", "子供", "特殊キャラ（動物以外）")
IF RESULT == 0
	PRINTFORML キャンセルしました
	RETURN
ENDIF
種別 = RESULT

SIF 種別 == 1
	PRINT 固定キャラ以外の場合、
IF 種別 != 2
	PRINTFORML キャラクターデータ自体を削除しますか？
	CALL ASK_YN("削除する（二度と復活できません）", "「特殊状態」等の書き換えのみ（復活可能）")
	削除しない = RESULT
ENDIF

PRINTFORML 死亡状態にする確率（パーセント）は？（101以上または0以下入力でキャンセルできます）
PRINTFORML [0] [50] [100]
INPUT
IF RESULT <= 0 || RESULT > 100
	PRINTFORML キャンセルしました
	RETURN
ENDIF
割合 = RESULT

FOR LOOP_C, CHARANUM - 1, -1, -1
	SIF (LOOP_C == MASTER) || (GET_COUNTRY_FROM_BOSS_ID(GET_ID(LOOP_C)) > 0) || CFLAG:LOOP_C:捕虜先 || TALENT:LOOP_C:妊娠
		CONTINUE
	SIF (種別 == 2) && !IS_FIXED_CHARA(LOOP_C)
		CONTINUE
	SIF (種別 == 3) && !IS_RANDOM_CHARA(LOOP_C)
		CONTINUE
	SIF (種別 == 4) && !IS_CHILD(LOOP_C)
		CONTINUE
	SIF (種別 == 5) && !IS_SP_CHARA(LOOP_C)
		CONTINUE
	SIF IS_ANIMAL(LOOP_C) ; IS_ANIMAL が真の場合は IS_SP_CHARA も真のはずだけど一応単独でチェックしておく
		CONTINUE
	SIF RAND:100 >= 割合
		CONTINUE
	CALL FORCE_FREE(LOOP_C)
	IF IS_FIXED_CHARA(LOOP_C) || 削除しない
		IF  (CFLAG:LOOP_C:特殊状態 != 特殊状態_死亡)
			PRINTFORML %ANAME(LOOP_C)%を死亡状態にします。
			CALL CHANGE_COUNTRY(LOOP_C, 0, 1, 1)
		ENDIF
	ELSE
		PRINTFORML %ANAME(LOOP_C)%を削除します。
		CALL DELETE_CHARA(LOOP_C)
	ENDIF
NEXT

@CONFIG_DATA_EDIT_ADD_RANDOM_CHARA_MULTI
#DIM 所属
#DIM 人数
#DIM LOOP1
#DIM 性別
#DIM 特殊

IF !CAN_ADD_RANDOM_CHARA()
	PRINTFORML ランダムキャラが満員なので追加できないよ
	RETURN
ENDIF

PRINTFORML ランダムキャラを複数追加します（名前や能力の傾向は指定できません）
PRINTFORML 特殊キャラ扱いにすることも可能です
PRINTFORML

PRINTFORML キャラクターの性別は？
CALL ASK_MULTI("（キャンセル）", "問わない", "男性", "女性", "女双", "男双", "男の娘", "男の娘双")
IF RESULT == 0
	PRINTFORML キャンセルしました
	RETURN
ENDIF
性別 = RESULT - 2

PRINTFORML キャラクターの種別は？（※ 特殊キャラの放浪はおすすめできないかもしれません）
CALL ASK_YN("ランダムキャラ", "特殊キャラ扱い")
特殊 = RESULT

PRINTFORML 所属は？
CALL ASK_YN("放浪", "MASTERと同じ")
所属 = RESULT
SIF 所属
	所属 = CFLAG:MASTER:所属

PRINTFORML 追加する人数は？（0以下入力でキャンセルできます）
PRINTFORML [0] [5] [10] [20]
INPUT
IF RESULT <= 0
	PRINTFORML キャンセルしました
	RETURN
ENDIF
人数 = RESULT
FOR LOOP1, 0, 人数
	CALL CREATE_RANDOM_CHARA(,,性別)
	IF RESULT < 0
		PRINTFORML {LOOP1}人 生成しました
		RETURN
	ELSE
		IF 特殊
			; @VIGILANTE_INIT を参考にする。
			FLAG:汎用武将カウント --
			NO:RESULT = GET_EMPTY_NO()
			;CALL INIT_NEWCHARA(RESULT)
		ENDIF
		CALL CHANGE_COUNTRY(RESULT, 所属)
	ENDIF
NEXT
PRINTFORML {人数}人 生成しました

@CONFIG_DATA_EDIT_CUSTOM_CHARA_MULTI
#DIM 所属
#DIM 人数
#DIM LOOP1
#DIM カスタム
#DIM 対象

IF !CAN_ADD_RANDOM_CHARA()
	PRINTFORML ランダムキャラが満員なので追加できないよ
	RETURN
ENDIF

PRINTFORML カスタムキャラのクローンを複数生成します
PRINTFORML 放浪させるか、MASTERと同じ所属にするかを選べます
PRINTFORML

; @CUSTOM_CHARA_MENU を参考にする。

PRINTFORML ここでは「新規作成」を選ばないで下さい。
CALL SHOW_CUSTOM_CHARACTERS
CALL SINGLE_DRAWLINE
PRINTBUTTON "[キャンセル]", 99

$INPUT_1
INPUT

IF RESULT == 99
	RETURN
ELSEIF INRANGE(RESULT, 0, EDITABLE_CUSTOM_CHARA)
	IF CUSTOM_EXISTS(RESULT)
		カスタム = RESULT
	ELSE
		PRINTFORML ここで新規作成はできません。ごめんね
		GOTO INPUT_1
	ENDIF
ELSE
	GOTO INPUT_1
ENDIF



; @MODIFY_CUSTOM_DATA(番号) を参考にする。
; ただし、ランダムキャラが既に満員の場合に以下の処理を行うとFLAG:汎用武将カウントが狂うので、関数の先頭でお断りしてます。どうせ追加できないし。

ADDVOIDCHARA
対象 = CHARANUM - 1
CALL APPLY_CUSTOM_DATA(対象, カスタム)

NO:対象 = FLAG:汎用武将カウント + MIN_NO_RANDOM_CHARA ; 一時的に設定する。何も設定しないと CALL DELETE_CHARA の中でTHROWされる。
FLAG:汎用武将カウント ++ ; 一時的に設定する。ランダムキャラを CALL DELETE_CHARA すると -- されるので。
CFLAG:(対象):キャラＩＤ = FLAG:998 + 1 ; 一時的に設定する。何も設定しないと[家系表示]が不適切

CALL SINGLE_DRAWLINE
CALL SHOW_INFO_WITH_UI(対象)
CALL SINGLE_DRAWLINE

CALL DELETE_CHARA(CHARANUM - 1)



PRINTFORML 所属は？
CALL ASK_YN("放浪", "MASTERと同じ")
所属 = RESULT
SIF 所属
	所属 = CFLAG:MASTER:所属

PRINTFORML 追加する人数は？（0以下入力でキャンセルできます）
PRINTFORML [0] [5] [10] [20]
INPUT
IF RESULT <= 0
	PRINTFORML キャンセルしました
	RETURN
ENDIF
人数 = RESULT
FOR LOOP1, 0, 人数
	IF !CAN_ADD_RANDOM_CHARA()
		PRINTFORML {LOOP1}人 生成しました
		RETURN
	ELSE
		; @CUSTOM_SETTING を参考にする。
		ADDVOIDCHARA
		対象 = CHARANUM - 1
		;口上が設定されてしまうのでINIT_NEWCHARAはNO設定の前に行う
		CALL INIT_NEWCHARA(対象)
		CALL APPLY_CUSTOM_DATA(対象, カスタム)
		;NOの設定
		NO:対象 = FLAG:汎用武将カウント + MIN_NO_RANDOM_CHARA
		FLAG:汎用武将カウント ++

		CALL CHANGE_COUNTRY(対象, 所属)
	ENDIF
NEXT
PRINTFORML {人数}人 生成しました

